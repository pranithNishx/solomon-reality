(()=>{var e={};e.id=283,e.ids=[283],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},27790:e=>{"use strict";e.exports=require("assert")},84770:e=>{"use strict";e.exports=require("crypto")},17702:e=>{"use strict";e.exports=require("events")},92048:e=>{"use strict";e.exports=require("fs")},32615:e=>{"use strict";e.exports=require("http")},32694:e=>{"use strict";e.exports=require("http2")},35240:e=>{"use strict";e.exports=require("https")},19801:e=>{"use strict";e.exports=require("os")},55315:e=>{"use strict";e.exports=require("path")},76162:e=>{"use strict";e.exports=require("stream")},74175:e=>{"use strict";e.exports=require("tty")},17360:e=>{"use strict";e.exports=require("url")},21764:e=>{"use strict";e.exports=require("util")},71568:e=>{"use strict";e.exports=require("zlib")},5856:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>a.Z,__next_app__:()=>p,originalPathname:()=>d,pages:()=>c,routeModule:()=>u,tree:()=>l}),s(88016),s(9457),s(25780),s(7629),s(12523);var r=s(23191),i=s(88716),a=s(43315),n=s(95231),o={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>n[e]);s.d(t,o);let l=["",{children:["admin",{children:["properties",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,88016)),"/Users/rijanrayamajhi/Desktop/solomon-reality/frontend/src/app/admin/properties/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,9457)),"/Users/rijanrayamajhi/Desktop/solomon-reality/frontend/src/app/admin/layout.tsx"]}]},{layout:[()=>Promise.resolve().then(s.bind(s,25780)),"/Users/rijanrayamajhi/Desktop/solomon-reality/frontend/src/app/layout.tsx"],error:[()=>Promise.resolve().then(s.bind(s,7629)),"/Users/rijanrayamajhi/Desktop/solomon-reality/frontend/src/app/error.tsx"],"not-found":[()=>Promise.resolve().then(s.bind(s,12523)),"/Users/rijanrayamajhi/Desktop/solomon-reality/frontend/src/app/not-found.tsx"]}],c=["/Users/rijanrayamajhi/Desktop/solomon-reality/frontend/src/app/admin/properties/page.tsx"],d="/admin/properties/page",p={require:s,loadChunk:()=>Promise.resolve()},u=new r.AppPageRouteModule({definition:{kind:i.x.APP_PAGE,page:"/admin/properties/page",pathname:"/admin/properties",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:l}})},28343:(e,t,s)=>{Promise.resolve().then(s.bind(s,6674))},52216:(e,t,s)=>{Promise.resolve().then(s.bind(s,89936))},59734:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r=(0,s(76557).Z)("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]])},12714:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r=(0,s(76557).Z)("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},75290:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r=(0,s(76557).Z)("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},83855:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r=(0,s(76557).Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},98091:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r=(0,s(76557).Z)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},17069:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r=(0,s(76557).Z)("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]])},24061:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r=(0,s(76557).Z)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]])},6674:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>f});var r=s(10326);s(17577);var i=s(35047),a=s(58029),n=s(75290),o=s(30058),l=s(90434),c=s(95920),d=s(59734),p=s(5932),u=s(17069),m=s(24061),h=s(88378);function x(){let e=(0,i.usePathname)(),{user:t}=(0,a.t)(),s=[{title:"Dashboard",href:"/admin",icon:c.Z},{title:"Properties",href:"/admin/properties",icon:d.Z},{title:"Leads",href:"/admin/leads",icon:p.Z},{title:"Analytics",href:"/admin/analytics",icon:u.Z},{title:"Users",href:"/admin/users",icon:m.Z},{title:"Settings",href:"/admin/settings",icon:h.Z}];return(0,r.jsxs)("aside",{className:"w-64 bg-surface border-r border-border min-h-screen sticky top-0",children:[(0,r.jsxs)("div",{className:"p-6 border-b border-border",children:[r.jsx("h2",{className:"text-xl font-display font-bold text-accent-primary",children:"Admin Panel"}),r.jsx("p",{className:"text-text-secondary text-sm mt-1",children:t?.name||"Admin"})]}),r.jsx("nav",{className:"p-4 space-y-2",children:s.map(t=>{let s=t.icon,i=e===t.href||e?.startsWith(t.href+"/");return r.jsx(l.default,{href:t.href,children:(0,r.jsxs)(o.E.div,{whileHover:{x:4},whileTap:{scale:.98},className:`flex items-center gap-3 px-4 py-3 rounded-lg transition-all ${i?"bg-accent-primary/10 text-accent-primary border-l-4 border-accent-primary":"text-text-secondary hover:bg-surface-muted hover:text-text-primary"}`,children:[r.jsx(s,{size:20}),r.jsx("span",{className:"font-medium",children:t.title})]})},t.href)})})]})}var y=s(16681);function f({children:e}){(0,i.useRouter)();let{isAuthenticated:t,user:s}=(0,a.t)();return t&&s?.role==="admin"?(0,r.jsxs)("div",{className:"min-h-screen bg-gradient-soft flex",children:[r.jsx(x,{}),(0,r.jsxs)("div",{className:"flex-1 flex flex-col",children:[r.jsx(y.w,{}),r.jsx(o.E.main,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},className:"flex-1 p-6",children:e})]})]}):r.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-soft",children:(0,r.jsxs)("div",{className:"text-center",children:[r.jsx(n.Z,{className:"animate-spin text-accent-primary mx-auto mb-4",size:32}),r.jsx("p",{className:"text-text-secondary",children:"Redirecting to login..."})]})})}},89936:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>j});var r=s(10326),i=s(17577),a=s(35047),n=s(90434),o=s(44976),l=s(20108),c=s(10119),d=s(18069),p=s(58029),u=s(75290),m=s(83855),h=s(98091);let x=(0,s(76557).Z)("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);var y=s(12714),f=s(30058),b=s(40381);function j(){(0,a.useRouter)();let{isAuthenticated:e,user:t}=(0,p.t)(),s=(0,o.NL)(),[j,v]=(0,i.useState)(1),[g,N]=(0,i.useState)("Active"),{data:k,isLoading:M}=(0,l.a)({queryKey:["admin-properties",j,g],queryFn:async()=>(await d.Sf.getAll({page:j,limit:20,status:g})).data,enabled:e&&t?.role==="admin"}),w=(0,c.D)({mutationFn:e=>d.Sf.delete(e),onSuccess:()=>{s.invalidateQueries({queryKey:["admin-properties"]}),b.ZP.success("Property deleted successfully")},onError:e=>{b.ZP.error(e.response?.data?.error||"Failed to delete property")}});if(M)return r.jsx("div",{className:"min-h-screen flex items-center justify-center",children:r.jsx(u.Z,{className:"animate-spin text-accent-primary",size:32})});let Z=k?.properties||[],P=k?.pagination||{page:1,limit:20,total:0,pages:1};return r.jsx("div",{className:"min-h-screen bg-gradient-soft p-6",children:(0,r.jsxs)("div",{className:"max-w-[1280px] mx-auto px-4 sm:px-6 lg:px-8",children:[(0,r.jsxs)(f.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mb-8 flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[r.jsx("h1",{className:"text-4xl font-display font-bold text-text-primary mb-2",children:"Properties Management"}),r.jsx("p",{className:"text-text-secondary",children:"Manage all properties"})]}),r.jsx(n.default,{href:"/admin/properties/new",children:(0,r.jsxs)("button",{className:"btn-primary flex items-center gap-2",children:[r.jsx(m.Z,{size:20}),"Add Property"]})})]}),r.jsx(f.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"card-luxury p-6 mb-6",children:r.jsx("div",{className:"flex gap-4",children:["Active","Sold","Rented","Inactive"].map(e=>r.jsx("button",{onClick:()=>N(e),className:`px-4 py-2 rounded-lg font-semibold transition-all ${g===e?"bg-accent-primary text-white":"bg-surface-muted text-text-secondary hover:text-accent-primary"}`,children:e},e))})}),r.jsx(f.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:Z.length>0?Z.map((e,t)=>(0,r.jsxs)(f.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3+.1*t},className:"card-luxury overflow-hidden",children:[(0,r.jsxs)("div",{className:"relative h-48 bg-surface-muted",children:[e.payload?.images?.[0]?r.jsx("img",{src:e.payload.images[0],alt:e.title,className:"w-full h-full object-cover"}):r.jsx("div",{className:"w-full h-full flex items-center justify-center text-text-secondary",children:"No Image"}),r.jsx("div",{className:"absolute top-4 right-4",children:r.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${"Active"===e.status?"bg-success/20 text-success":"Sold"===e.status?"bg-error/20 text-error":"Rented"===e.status?"bg-warning/20 text-warning":"bg-text-secondary/20 text-text-secondary"}`,children:e.status})})]}),(0,r.jsxs)("div",{className:"p-4 relative",children:[r.jsx("div",{className:"absolute top-4 right-4",children:r.jsx("button",{onClick:()=>{confirm("Are you sure you want to delete this property?")&&w.mutate(e.id)},className:"px-3 py-1.5 border border-[#EF7C79] text-[#EF7C79] rounded-md hover:bg-[#EF7C79]/10 transition-colors text-sm font-semibold",disabled:w.isPending,title:"Delete property",children:r.jsx(h.Z,{size:16,className:"inline"})})}),r.jsx("h3",{className:"text-xl font-semibold text-text-primary mb-2 line-clamp-2 pr-20",children:e.title}),r.jsx("p",{className:"text-text-secondary text-sm mb-4 line-clamp-2",children:e.payload?.description||"No description"}),(0,r.jsxs)("div",{className:"flex items-center justify-between text-sm mb-4",children:[(0,r.jsxs)("span",{className:"text-accent-primary font-semibold",children:["â‚¹",e.payload?.price?.toLocaleString()||"N/A"]}),(0,r.jsxs)("span",{className:"text-text-secondary",children:[e.views||0," views"]})]}),(0,r.jsxs)("div",{className:"flex gap-2",children:[r.jsx(n.default,{href:`/admin/properties/${e.id}/edit`,className:"flex-1",children:(0,r.jsxs)("button",{className:"btn-secondary w-full flex items-center justify-center gap-2",title:"Edit property",children:[r.jsx(x,{size:16}),"Edit"]})}),r.jsx(n.default,{href:`/properties/${e.id}`,className:"flex-1",children:(0,r.jsxs)("button",{className:"btn-secondary w-full flex items-center justify-center gap-2",title:"View property",children:[r.jsx(y.Z,{size:16}),"View"]})})]})]})]},e.id)):r.jsx("div",{className:"col-span-full text-center py-12",children:r.jsx("p",{className:"text-text-secondary",children:"No properties found"})})}),P.pages>1&&(0,r.jsxs)(f.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"flex items-center justify-between mt-6",children:[(0,r.jsxs)("p",{className:"text-text-secondary text-sm",children:["Showing ",(P.page-1)*P.limit+1," to ",Math.min(P.page*P.limit,P.total)," of ",P.total," properties"]}),(0,r.jsxs)("div",{className:"flex gap-2",children:[r.jsx("button",{onClick:()=>v(e=>Math.max(1,e-1)),disabled:1===j,className:"btn-secondary",children:"Previous"}),r.jsx("button",{onClick:()=>v(e=>Math.min(P.pages,e+1)),disabled:j===P.pages,className:"btn-secondary",children:"Next"})]})]})]})})}},9457:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r});let r=(0,s(68570).createProxy)(String.raw`/Users/rijanrayamajhi/Desktop/solomon-reality/frontend/src/app/admin/layout.tsx#default`)},88016:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r});let r=(0,s(68570).createProxy)(String.raw`/Users/rijanrayamajhi/Desktop/solomon-reality/frontend/src/app/admin/properties/page.tsx#default`)},10119:(e,t,s)=>{"use strict";s.d(t,{D:()=>d});var r=s(17577),i=s(71180),a=s(12113),n=s(64351),o=s(3341),l=class extends n.l{#e;#t=void 0;#s;#r;constructor(e,t){super(),this.#e=e,this.setOptions(t),this.bindMethods(),this.#i()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){let t=this.options;this.options=this.#e.defaultMutationOptions(e),(0,o.VS)(this.options,t)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#s,observer:this}),t?.mutationKey&&this.options.mutationKey&&(0,o.Ym)(t.mutationKey)!==(0,o.Ym)(this.options.mutationKey)?this.reset():this.#s?.state.status==="pending"&&this.#s.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#s?.removeObserver(this)}onMutationUpdate(e){this.#i(),this.#a(e)}getCurrentResult(){return this.#t}reset(){this.#s?.removeObserver(this),this.#s=void 0,this.#i(),this.#a()}mutate(e,t){return this.#r=t,this.#s?.removeObserver(this),this.#s=this.#e.getMutationCache().build(this.#e,this.options),this.#s.addObserver(this),this.#s.execute(e)}#i(){let e=this.#s?.state??(0,i.R)();this.#t={...e,isPending:"pending"===e.status,isSuccess:"success"===e.status,isError:"error"===e.status,isIdle:"idle"===e.status,mutate:this.mutate,reset:this.reset}}#a(e){a.Vr.batch(()=>{if(this.#r&&this.hasListeners()){let t=this.#t.variables,s=this.#t.context,r={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};e?.type==="success"?(this.#r.onSuccess?.(e.data,t,s,r),this.#r.onSettled?.(e.data,null,t,s,r)):e?.type==="error"&&(this.#r.onError?.(e.error,t,s,r),this.#r.onSettled?.(void 0,e.error,t,s,r))}this.listeners.forEach(e=>{e(this.#t)})})}},c=s(44976);function d(e,t){let s=(0,c.NL)(t),[i]=r.useState(()=>new l(s,e));r.useEffect(()=>{i.setOptions(e)},[i,e]);let n=r.useSyncExternalStore(r.useCallback(e=>i.subscribe(a.Vr.batchCalls(e)),[i]),()=>i.getCurrentResult(),()=>i.getCurrentResult()),d=r.useCallback((e,t)=>{i.mutate(e,t).catch(o.ZT)},[i]);if(n.error&&(0,o.L3)(i.options.throwOnError,[n.error]))throw n.error;return{...n,mutate:d,mutateAsync:n.mutate}}}};var t=require("../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[997,721],()=>s(5856));module.exports=r})();