(()=>{var e={};e.id=241,e.ids=[241],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},27790:e=>{"use strict";e.exports=require("assert")},84770:e=>{"use strict";e.exports=require("crypto")},17702:e=>{"use strict";e.exports=require("events")},92048:e=>{"use strict";e.exports=require("fs")},32615:e=>{"use strict";e.exports=require("http")},32694:e=>{"use strict";e.exports=require("http2")},35240:e=>{"use strict";e.exports=require("https")},19801:e=>{"use strict";e.exports=require("os")},55315:e=>{"use strict";e.exports=require("path")},76162:e=>{"use strict";e.exports=require("stream")},74175:e=>{"use strict";e.exports=require("tty")},17360:e=>{"use strict";e.exports=require("url")},21764:e=>{"use strict";e.exports=require("util")},71568:e=>{"use strict";e.exports=require("zlib")},58798:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>l.a,__next_app__:()=>p,originalPathname:()=>m,pages:()=>c,routeModule:()=>x,tree:()=>d}),s(98007),s(9457),s(25780),s(7629),s(12523);var a=s(23191),r=s(88716),i=s(37922),l=s.n(i),n=s(95231),o={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>n[e]);s.d(t,o);let d=["",{children:["admin",{children:["properties",{children:["[id]",{children:["edit",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,98007)),"C:\\Users\\nishu\\OneDrive\\Desktop\\solomon-reality\\frontend\\src\\app\\admin\\properties\\[id]\\edit\\page.tsx"]}]},{}]},{}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,9457)),"C:\\Users\\nishu\\OneDrive\\Desktop\\solomon-reality\\frontend\\src\\app\\admin\\layout.tsx"]}]},{layout:[()=>Promise.resolve().then(s.bind(s,25780)),"C:\\Users\\nishu\\OneDrive\\Desktop\\solomon-reality\\frontend\\src\\app\\layout.tsx"],error:[()=>Promise.resolve().then(s.bind(s,7629)),"C:\\Users\\nishu\\OneDrive\\Desktop\\solomon-reality\\frontend\\src\\app\\error.tsx"],"not-found":[()=>Promise.resolve().then(s.bind(s,12523)),"C:\\Users\\nishu\\OneDrive\\Desktop\\solomon-reality\\frontend\\src\\app\\not-found.tsx"]}],c=["C:\\Users\\nishu\\OneDrive\\Desktop\\solomon-reality\\frontend\\src\\app\\admin\\properties\\[id]\\edit\\page.tsx"],m="/admin/properties/[id]/edit/page",p={require:s,loadChunk:()=>Promise.resolve()},x=new a.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/admin/properties/[id]/edit/page",pathname:"/admin/properties/[id]/edit",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},73658:(e,t,s)=>{Promise.resolve().then(s.bind(s,6674))},53310:(e,t,s)=>{Promise.resolve().then(s.bind(s,11254))},59734:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(76557).Z)("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]])},75290:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(76557).Z)("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},83855:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(76557).Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},17069:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(76557).Z)("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]])},24061:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(76557).Z)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]])},6674:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>b});var a=s(10326);s(17577);var r=s(35047),i=s(58029),l=s(75290),n=s(30058),o=s(90434),d=s(95920),c=s(59734),m=s(5932),p=s(17069),x=s(24061),u=s(88378);function h(){let e=(0,r.usePathname)(),{user:t}=(0,i.t)(),s=[{title:"Dashboard",href:"/admin",icon:d.Z},{title:"Properties",href:"/admin/properties",icon:c.Z},{title:"Leads",href:"/admin/leads",icon:m.Z},{title:"Analytics",href:"/admin/analytics",icon:p.Z},{title:"Users",href:"/admin/users",icon:x.Z},{title:"Settings",href:"/admin/settings",icon:u.Z}];return(0,a.jsxs)("aside",{className:"w-64 bg-surface border-r border-border min-h-screen sticky top-0",children:[(0,a.jsxs)("div",{className:"p-6 border-b border-border",children:[a.jsx("h2",{className:"text-xl font-display font-bold text-accent-primary",children:"Admin Panel"}),a.jsx("p",{className:"text-text-secondary text-sm mt-1",children:t?.name||"Admin"})]}),a.jsx("nav",{className:"p-4 space-y-2",children:s.map(t=>{let s=t.icon,r=e===t.href||e?.startsWith(t.href+"/");return a.jsx(o.default,{href:t.href,children:(0,a.jsxs)(n.E.div,{whileHover:{x:4},whileTap:{scale:.98},className:`flex items-center gap-3 px-4 py-3 rounded-lg transition-all ${r?"bg-accent-primary/10 text-accent-primary border-l-4 border-accent-primary":"text-text-secondary hover:bg-surface-muted hover:text-text-primary"}`,children:[a.jsx(s,{size:20}),a.jsx("span",{className:"font-medium",children:t.title})]})},t.href)})})]})}var y=s(16681);function b({children:e}){(0,r.useRouter)();let{isAuthenticated:t,user:s}=(0,i.t)();return t&&s?.role==="admin"?(0,a.jsxs)("div",{className:"min-h-screen bg-gradient-soft flex",children:[a.jsx(h,{}),(0,a.jsxs)("div",{className:"flex-1 flex flex-col",children:[a.jsx(y.w,{}),a.jsx(n.E.main,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},className:"flex-1 p-6",children:e})]})]}):a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-soft",children:(0,a.jsxs)("div",{className:"text-center",children:[a.jsx(l.Z,{className:"animate-spin text-accent-primary mx-auto mb-4",size:32}),a.jsx("p",{className:"text-text-secondary",children:"Redirecting to login..."})]})})}},11254:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>b});var a=s(10326),r=s(17577),i=s(35047),l=s(44976),n=s(20108),o=s(10119),d=s(74723),c=s(18069),m=s(58029),p=s(40381),x=s(90434),u=s(75290),h=s(83855),y=s(94019);function b(){let e=(0,i.useParams)(),t=(0,i.useRouter)(),s=(0,l.NL)(),{isAuthenticated:b,user:f}=(0,m.t)(),g=e.id,[j,v]=(0,r.useState)([]),[N,k]=(0,r.useState)([]),[w,P]=(0,r.useState)(""),[A,q]=(0,r.useState)(!1),[C,Z]=(0,r.useState)(0),[F,S]=(0,r.useState)(""),[M,R]=(0,r.useState)(!1),{data:D,isLoading:U}=(0,n.a)({queryKey:["amenities"],queryFn:async()=>(await c.WA.getAll()).data}),E=D?.amenities||[],z=(0,o.D)({mutationFn:e=>c.WA.create(e),onSuccess:()=>{s.invalidateQueries({queryKey:["amenities"]}),S(""),R(!1),p.ZP.success("Amenity added successfully")},onError:e=>{p.ZP.error(e.response?.data?.error||"Failed to add amenity")}}),_=(0,o.D)({mutationFn:e=>c.WA.delete(e),onSuccess:()=>{s.invalidateQueries({queryKey:["amenities"]}),p.ZP.success("Amenity deleted successfully")},onError:e=>{p.ZP.error(e.response?.data?.error||"Failed to delete amenity")}}),{data:O,isLoading:B}=(0,n.a)({queryKey:["property",g],queryFn:async()=>(await c.Sf.getById(g)).data,enabled:!!g&&b&&f?.role==="admin"}),L=O?.property,{register:I,handleSubmit:$,formState:{errors:K},watch:V,setValue:T,reset:G}=(0,d.cI)({defaultValues:L?{title:L.title,category:L.payload.category,subtype:L.payload.subtype||"",purpose:L.payload.purpose,price:L.payload.price,area:L.payload.area,bhk:L.payload.bhk||"",bathrooms:L.payload.bathrooms,furnishing:L.payload.furnishing,description:L.payload.description||"",city:L.payload.location?.city||"",state:L.payload.location?.state||"",locality:L.payload.location?.locality||"",address:L.payload.location?.address||"",pincode:L.payload.location?.pincode||"",latitude:L.payload.location?.latitude,longitude:L.payload.location?.longitude,amenities:L.payload.amenities||[],features:L.payload.features||[],reraApproved:L.payload.reraApproved||!1,reraNumber:L.payload.reraNumber||"",possessionStatus:L.payload.possessionStatus||"",ageOfProperty:L.payload.ageOfProperty||"",facing:L.payload.facing||"",parking:L.payload.parking||"",totalFloors:L.payload.totalFloors,floorNumber:L.payload.floorNumber,powerCapacity:L.payload.powerCapacity||"",status:L.status}:void 0}),H=(0,o.D)({mutationFn:e=>c.Sf.update(g,e),onSuccess:()=>{p.ZP.success("Property updated successfully"),t.push("/admin/properties")},onError:e=>{p.ZP.error(e.response?.data?.error||"Failed to update property")}}),W=async(e,t)=>{if(!e||0===e.length)return;let s="video"===t?104857600:10485760,a=[];if(Array.from(e).forEach(e=>{e.size>s&&a.push(e)}),a.length>0){let e=(a[0].size/1048576).toFixed(2),r=(s/1048576).toFixed(0);p.ZP.error(`File too large: ${a[0].name} (${e}MB). Maximum allowed: ${r}MB for ${"video"===t?"videos":"images"}. Please compress your file.`,{duration:6e3});return}q(!0),Z(0);try{let s=Array.from(e).map(async(t,s)=>{try{let a=await c.XF.upload(t);return Z((s+1)/e.length*100),a.data.secure_url||a.data.url}catch(s){let e=s.response?.data?.error||s.message||`Failed to upload ${t.name}`;throw p.ZP.error(e,{duration:6e3}),s}}),a=await Promise.all(s);"image"===t?(v([...j,...a]),p.ZP.success("Images uploaded successfully")):"video"===t?(k([...N,...a]),p.ZP.success("Videos uploaded successfully")):"floorPlan"===t&&(P(a[0]),p.ZP.success("Floor plan uploaded successfully"))}catch(e){console.error("Upload error:",e)}finally{q(!1),Z(0)}},Q=()=>{if(!F.trim()){p.ZP.error("Please enter an amenity name");return}let e=V("category")||void 0;z.mutate({name:F.trim(),category:e})};return B?a.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:a.jsx(u.Z,{className:"animate-spin text-accent-primary",size:40})}):L?a.jsx("div",{className:"min-h-screen bg-background py-12 px-4",children:(0,a.jsxs)("div",{className:"container mx-auto max-w-4xl",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-8",children:[(0,a.jsxs)("h1",{className:"text-4xl font-display font-bold",children:[a.jsx("span",{className:"text-gradient",children:"Edit"})," ",a.jsx("span",{className:"text-text-primary",children:"Property"})]}),a.jsx(x.default,{href:"/admin/properties",className:"btn-secondary",children:"Back to Properties"})]}),(0,a.jsxs)("form",{onSubmit:$(e=>{let t={category:e.category,subtype:e.subtype,purpose:e.purpose,price:parseFloat(e.price.toString()),priceUnit:"₹",area:parseFloat(e.area.toString()),areaUnit:"sq.ft",bhk:e.bhk,bathrooms:e.bathrooms,furnishing:e.furnishing,description:e.description,location:{address:e.address,locality:e.locality,city:e.city,state:e.state,pincode:e.pincode,latitude:e.latitude,longitude:e.longitude},amenities:e.amenities||[],features:e.features||[],images:j,videos:N,floorPlan:w||void 0,reraApproved:e.reraApproved,reraNumber:e.reraNumber,possessionStatus:e.possessionStatus,ageOfProperty:e.ageOfProperty,facing:e.facing,parking:e.parking,totalFloors:e.totalFloors,floorNumber:e.floorNumber,powerCapacity:e.powerCapacity};H.mutate({title:e.title,payload:t,status:e.status})}),className:"card-luxury space-y-6",children:[(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-semibold mb-2 text-text-primary",children:"Status"}),(0,a.jsxs)("select",{...I("status"),className:"input-elegant w-full",children:[a.jsx("option",{value:"Active",children:"Active"}),a.jsx("option",{value:"Sold",children:"Sold"}),a.jsx("option",{value:"Rented",children:"Rented"}),a.jsx("option",{value:"Inactive",children:"Inactive"})]})]}),(0,a.jsxs)("div",{children:[a.jsx("h2",{className:"text-2xl font-display font-bold mb-4 text-accent-primary",children:"Basic Information"}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-semibold mb-2 text-text-primary",children:"Title *"}),a.jsx("input",{type:"text",...I("title",{required:"Title is required"}),className:"input-elegant w-full"}),K.title&&a.jsx("p",{className:"text-error text-sm mt-1",children:K.title.message})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-semibold mb-2 text-text-primary",children:"Category *"}),(0,a.jsxs)("select",{...I("category",{required:"Category is required"}),className:"input-elegant w-full",children:[a.jsx("option",{value:"Residential",children:"Residential"}),a.jsx("option",{value:"Commercial",children:"Commercial"})]})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-semibold mb-2 text-text-primary",children:"Purpose *"}),(0,a.jsxs)("select",{...I("purpose",{required:"Purpose is required"}),className:"input-elegant w-full",children:[a.jsx("option",{value:"Buy",children:"Buy"}),a.jsx("option",{value:"Rent",children:"Rent"}),a.jsx("option",{value:"Lease",children:"Lease"})]})]})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-semibold mb-2 text-text-primary",children:"Subtype"}),a.jsx("input",{type:"text",...I("subtype"),className:"input-elegant w-full",placeholder:"e.g., Apartment, Villa, Office Space"})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-semibold mb-2 text-text-primary",children:"Description *"}),a.jsx("textarea",{...I("description",{required:"Description is required"}),rows:6,className:"input-elegant w-full"}),K.description&&a.jsx("p",{className:"text-error text-sm mt-1",children:K.description.message})]})]})]}),(0,a.jsxs)("div",{children:[a.jsx("h2",{className:"text-2xl font-display font-bold mb-4 text-accent-primary",children:"Pricing & Area"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-semibold mb-2 text-text-primary",children:"Price (₹) *"}),a.jsx("input",{type:"number",min:"0",step:"0.01",...I("price",{required:"Price is required",valueAsNumber:!0}),className:"input-elegant w-full"}),K.price&&a.jsx("p",{className:"text-error text-sm mt-1",children:K.price.message})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-semibold mb-2 text-text-primary",children:"Area (sq.ft) *"}),a.jsx("input",{type:"number",min:"0",step:"any",...I("area",{required:"Area is required",valueAsNumber:!0}),className:"input-elegant w-full"}),K.area&&a.jsx("p",{className:"text-error text-sm mt-1",children:K.area.message})]})]})]}),(0,a.jsxs)("div",{children:[a.jsx("h2",{className:"text-2xl font-display font-bold mb-4 text-accent-primary",children:"Property Details"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-semibold mb-2 text-text-primary",children:"BHK"}),a.jsx("input",{type:"text",...I("bhk"),className:"input-elegant w-full",placeholder:"3 BHK"})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-semibold mb-2 text-text-primary",children:"Bathrooms"}),a.jsx("input",{type:"number",...I("bathrooms",{valueAsNumber:!0}),className:"input-elegant w-full",placeholder:"2"})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-semibold mb-2 text-text-primary",children:"Furnishing"}),(0,a.jsxs)("select",{...I("furnishing"),className:"input-elegant w-full",children:[a.jsx("option",{value:"",children:"Select"}),a.jsx("option",{value:"Furnished",children:"Furnished"}),a.jsx("option",{value:"Semi-Furnished",children:"Semi-Furnished"}),a.jsx("option",{value:"Unfurnished",children:"Unfurnished"})]})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-semibold mb-2 text-text-primary",children:"Power Capacity"}),a.jsx("input",{type:"text",...I("powerCapacity"),className:"input-elegant w-full",placeholder:"e.g., 50 kW, 100 kVA"})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-semibold mb-2 text-text-primary",children:"Facing"}),a.jsx("input",{type:"text",...I("facing"),className:"input-elegant w-full",placeholder:"North"})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-semibold mb-2 text-text-primary",children:"Parking"}),a.jsx("input",{type:"text",...I("parking"),className:"input-elegant w-full",placeholder:"2"})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-semibold mb-2 text-text-primary",children:"Total Floors"}),a.jsx("input",{type:"number",...I("totalFloors",{valueAsNumber:!0}),className:"input-elegant w-full",placeholder:"10"})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-semibold mb-2 text-text-primary",children:"Floor Number"}),a.jsx("input",{type:"number",...I("floorNumber",{valueAsNumber:!0}),className:"input-elegant w-full",placeholder:"5"})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-semibold mb-2 text-text-primary",children:"Age of Property"}),a.jsx("input",{type:"text",...I("ageOfProperty"),className:"input-elegant w-full",placeholder:"New Construction"})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-semibold mb-2 text-text-primary",children:"Possession Status"}),a.jsx("input",{type:"text",...I("possessionStatus"),className:"input-elegant w-full",placeholder:"Ready to Move"})]})]})]}),(0,a.jsxs)("div",{children:[a.jsx("h2",{className:"text-2xl font-display font-bold mb-4 text-accent-primary",children:"Location"}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-semibold mb-2 text-text-primary",children:"City *"}),a.jsx("input",{type:"text",...I("city",{required:"City is required"}),className:"input-elegant w-full"}),K.city&&a.jsx("p",{className:"text-error text-sm mt-1",children:K.city.message})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-semibold mb-2 text-text-primary",children:"State"}),a.jsx("input",{type:"text",...I("state"),className:"input-elegant w-full"})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-semibold mb-2 text-text-primary",children:"Locality"}),a.jsx("input",{type:"text",...I("locality"),className:"input-elegant w-full"})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-semibold mb-2 text-text-primary",children:"Address"}),a.jsx("input",{type:"text",...I("address"),className:"input-elegant w-full"})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-semibold mb-2 text-text-primary",children:"Pincode"}),a.jsx("input",{type:"text",...I("pincode"),className:"input-elegant w-full"})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-semibold mb-2 text-text-primary",children:"Latitude"}),a.jsx("input",{type:"number",step:"any",...I("latitude",{valueAsNumber:!0}),className:"input-elegant w-full"})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-semibold mb-2 text-text-primary",children:"Longitude"}),a.jsx("input",{type:"number",step:"any",...I("longitude",{valueAsNumber:!0}),className:"input-elegant w-full"})]})]})]})]}),(0,a.jsxs)("div",{children:[a.jsx("h2",{className:"text-2xl font-display font-bold mb-4 text-accent-primary",children:"RERA Information"}),(0,a.jsxs)("div",{className:"space-y-4",children:[a.jsx("div",{children:(0,a.jsxs)("label",{className:"flex items-center space-x-2",children:[a.jsx("input",{type:"checkbox",...I("reraApproved"),className:"w-4 h-4 text-accent-primary bg-surface border-border rounded focus:ring-2 focus:ring-accent-primary"}),a.jsx("span",{className:"text-sm font-semibold text-text-primary",children:"RERA Approved"})]})}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-semibold mb-2 text-text-primary",children:"RERA Number"}),a.jsx("input",{type:"text",...I("reraNumber"),className:"input-elegant w-full",placeholder:"RERA/123/2024"})]})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h2",{className:"text-2xl font-display font-bold text-accent-primary",children:"Amenities"}),(0,a.jsxs)("button",{type:"button",onClick:()=>R(!M),className:"btn-secondary flex items-center gap-2",children:[a.jsx(h.Z,{size:18}),"Add Custom"]})]}),M&&a.jsx("div",{className:"mb-4 p-4 bg-surface-muted rounded-lg border border-border",children:(0,a.jsxs)("div",{className:"flex gap-2",children:[a.jsx("input",{type:"text",value:F,onChange:e=>S(e.target.value),placeholder:"Enter amenity name (e.g., Rooftop Garden)",className:"input-elegant flex-1",onKeyPress:e=>{"Enter"===e.key&&Q()}}),a.jsx("button",{type:"button",onClick:Q,disabled:z.isPending||!F.trim(),className:"btn-primary",children:z.isPending?a.jsx(u.Z,{className:"animate-spin",size:18}):"Add"}),a.jsx("button",{type:"button",onClick:()=>{R(!1),S("")},className:"btn-secondary",children:"Cancel"})]})}),U?a.jsx("div",{className:"flex justify-center py-8",children:a.jsx(u.Z,{className:"animate-spin text-accent-primary",size:24})}):a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3",children:E.map(e=>{let t=V("amenities")?.includes(e.name)||!1;return(0,a.jsxs)("div",{className:"flex items-center justify-between gap-2 p-2 rounded-lg hover:bg-surface-muted transition-colors",children:[(0,a.jsxs)("label",{className:"flex items-center space-x-2 flex-1 cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:t,onChange:t=>{let s=V("amenities")||[];t.target.checked?T("amenities",[...s,e.name]):T("amenities",s.filter(t=>t!==e.name))},className:"w-4 h-4 text-accent-primary bg-surface border-border rounded focus:ring-2 focus:ring-accent-primary"}),a.jsx("span",{className:"text-sm text-text-primary",children:e.name})]}),e.id&&a.jsx("button",{type:"button",onClick:()=>{confirm(`Are you sure you want to delete "${e.name}"? This will remove it from all properties.`)&&_.mutate(e.id)},disabled:_.isPending,className:"text-error hover:text-error/80 transition-colors p-1 hover:bg-error/10 rounded",title:"Delete amenity",children:a.jsx(y.Z,{size:14})})]},e.id||e.name)})}),V("amenities")&&V("amenities").length>0&&(0,a.jsxs)("div",{className:"mt-4 pt-4 border-t border-border",children:[a.jsx("h3",{className:"text-sm font-semibold text-text-primary mb-3",children:"Selected Amenities"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:V("amenities").map(e=>{let t=!E.some(t=>t.name===e);return(0,a.jsxs)("div",{className:`flex items-center gap-2 rounded-full px-3 py-1.5 text-sm ${t?"bg-accent-primary/10 border border-accent-primary/30":"bg-surface-muted border border-border"}`,children:[a.jsx("span",{className:"text-text-primary",children:e}),t&&a.jsx("span",{className:"text-xs text-text-secondary",children:"(Custom)"}),a.jsx("button",{type:"button",onClick:()=>{T("amenities",(V("amenities")||[]).filter(t=>t!==e))},className:"text-text-secondary hover:text-error transition-colors ml-1",title:"Remove from selection",children:a.jsx(y.Z,{size:14})})]},e)})})]})]}),(0,a.jsxs)("div",{children:[a.jsx("h2",{className:"text-2xl font-display font-bold mb-4 text-accent-primary",children:"Features"}),a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:["RERA Approved","Ready to Move","Vaastu Compliant","Corner Property","Main Road Facing","Premium Location","Green Building","Smart Home","Pet Friendly"].map(e=>(0,a.jsxs)("label",{className:"flex items-center space-x-2",children:[a.jsx("input",{type:"checkbox",checked:V("features")?.includes(e)||!1,onChange:t=>{let s=V("features")||[];t.target.checked?T("features",[...s,e]):T("features",s.filter(t=>t!==e))},className:"w-4 h-4 text-accent-primary bg-surface border-border rounded focus:ring-2 focus:ring-accent-primary"}),a.jsx("span",{className:"text-sm text-text-primary",children:e})]},e))})]}),(0,a.jsxs)("div",{children:[a.jsx("h2",{className:"text-2xl font-display font-bold mb-4 text-accent-primary",children:"Media Upload"}),A&&(0,a.jsxs)("div",{className:"mb-4",children:[a.jsx("div",{className:"w-full bg-surface-muted rounded-full h-2.5",children:a.jsx("div",{className:"bg-gradient-primary h-2.5 rounded-full transition-all duration-300",style:{width:`${C}%`}})}),(0,a.jsxs)("p",{className:"text-text-secondary text-sm mt-2",children:["Uploading... ",Math.round(C),"%"]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-semibold mb-2 text-text-primary",children:"Upload Images"}),a.jsx("input",{type:"file",accept:"image/*",multiple:!0,onChange:e=>e.target.files&&W(e.target.files,"image"),disabled:A,className:"input-elegant w-full"})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-semibold mb-2 text-text-primary",children:"Upload Videos"}),a.jsx("input",{type:"file",accept:"video/*",multiple:!0,onChange:e=>e.target.files&&W(e.target.files,"video"),disabled:A,className:"input-elegant w-full"}),a.jsx("p",{className:"text-xs text-text-secondary mt-1",children:"Max 100MB per video (ImageKit limit). For larger files, compress before uploading."})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-semibold mb-2 text-text-primary",children:"Upload Floor Plan"}),a.jsx("input",{type:"file",accept:"image/*,.pdf",onChange:e=>e.target.files&&W(e.target.files,"floorPlan"),disabled:A,className:"input-elegant w-full"})]})]}),j.length>0&&(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsxs)("h3",{className:"text-lg font-semibold mb-3 text-accent-primary",children:["Images (",j.length,")"]}),a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:j.map((e,t)=>(0,a.jsxs)("div",{className:"relative group",children:[a.jsx("img",{src:e,alt:`Property ${t+1}`,className:"w-full h-32 object-cover rounded-lg shadow-soft"}),a.jsx("button",{type:"button",onClick:()=>v(j.filter((e,s)=>s!==t)),className:"absolute top-2 right-2 bg-error text-white rounded-full w-6 h-6 flex items-center justify-center text-xs shadow-soft hover:shadow-medium transition-all opacity-0 group-hover:opacity-100",children:a.jsx(y.Z,{size:14})})]},t))})]}),N.length>0&&(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsxs)("h3",{className:"text-lg font-semibold mb-3 text-accent-primary",children:["Videos (",N.length,")"]}),a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:N.map((e,t)=>(0,a.jsxs)("div",{className:"relative group",children:[(0,a.jsxs)("div",{className:"relative w-full h-32 bg-surface-muted rounded-lg overflow-hidden shadow-soft",children:[a.jsx("video",{src:e,className:"w-full h-full object-cover",muted:!0,preload:"metadata"}),a.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/30",children:a.jsx("div",{className:"w-10 h-10 rounded-full bg-white/90 flex items-center justify-center",children:a.jsx("span",{className:"text-xl text-accent-primary",children:"▶"})})})]}),a.jsx("button",{type:"button",onClick:()=>k(N.filter((e,s)=>s!==t)),className:"absolute top-2 right-2 bg-error text-white rounded-full w-6 h-6 flex items-center justify-center text-xs shadow-soft hover:shadow-medium transition-all opacity-0 group-hover:opacity-100",children:a.jsx(y.Z,{size:14})})]},t))})]}),w&&(0,a.jsxs)("div",{className:"mb-6",children:[a.jsx("h3",{className:"text-lg font-semibold mb-3 text-accent-primary",children:"Floor Plan"}),(0,a.jsxs)("div",{className:"relative group max-w-md",children:[a.jsx("img",{src:w,alt:"Floor Plan",className:"w-full h-auto rounded-lg shadow-soft"}),a.jsx("button",{type:"button",onClick:()=>P(""),className:"absolute top-2 right-2 bg-error text-white rounded-full w-6 h-6 flex items-center justify-center text-xs shadow-soft hover:shadow-medium transition-all opacity-0 group-hover:opacity-100",children:a.jsx(y.Z,{size:14})})]})]})]}),(0,a.jsxs)("div",{className:"flex gap-4",children:[a.jsx("button",{type:"submit",disabled:H.isPending,className:"btn-primary flex-1",children:H.isPending?"Updating...":"Update Property"}),a.jsx(x.default,{href:"/admin/properties",className:"btn-secondary",children:"Cancel"})]})]})]})}):a.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:a.jsx("p",{className:"text-text-secondary",children:"Property not found"})})}},9457:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>a});let a=(0,s(68570).createProxy)(String.raw`C:\Users\nishu\OneDrive\Desktop\solomon-reality\frontend\src\app\admin\layout.tsx#default`)},98007:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>a});let a=(0,s(68570).createProxy)(String.raw`C:\Users\nishu\OneDrive\Desktop\solomon-reality\frontend\src\app\admin\properties\[id]\edit\page.tsx#default`)}};var t=require("../../../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),a=t.X(0,[378,744,285],()=>s(58798));module.exports=a})();