(()=>{var e={};e.id=140,e.ids=[140],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},27790:e=>{"use strict";e.exports=require("assert")},84770:e=>{"use strict";e.exports=require("crypto")},17702:e=>{"use strict";e.exports=require("events")},92048:e=>{"use strict";e.exports=require("fs")},32615:e=>{"use strict";e.exports=require("http")},32694:e=>{"use strict";e.exports=require("http2")},35240:e=>{"use strict";e.exports=require("https")},19801:e=>{"use strict";e.exports=require("os")},55315:e=>{"use strict";e.exports=require("path")},76162:e=>{"use strict";e.exports=require("stream")},74175:e=>{"use strict";e.exports=require("tty")},17360:e=>{"use strict";e.exports=require("url")},21764:e=>{"use strict";e.exports=require("util")},71568:e=>{"use strict";e.exports=require("zlib")},63852:(e,r,s)=>{"use strict";s.r(r),s.d(r,{GlobalError:()=>i.Z,__next_app__:()=>m,originalPathname:()=>c,pages:()=>d,routeModule:()=>x,tree:()=>l}),s(92632),s(9457),s(25780),s(7629),s(12523);var t=s(23191),a=s(88716),i=s(43315),n=s(95231),o={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>n[e]);s.d(r,o);let l=["",{children:["admin",{children:["settings",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,92632)),"/Users/rijanrayamajhi/Desktop/solomon-reality/frontend/src/app/admin/settings/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,9457)),"/Users/rijanrayamajhi/Desktop/solomon-reality/frontend/src/app/admin/layout.tsx"]}]},{layout:[()=>Promise.resolve().then(s.bind(s,25780)),"/Users/rijanrayamajhi/Desktop/solomon-reality/frontend/src/app/layout.tsx"],error:[()=>Promise.resolve().then(s.bind(s,7629)),"/Users/rijanrayamajhi/Desktop/solomon-reality/frontend/src/app/error.tsx"],"not-found":[()=>Promise.resolve().then(s.bind(s,12523)),"/Users/rijanrayamajhi/Desktop/solomon-reality/frontend/src/app/not-found.tsx"]}],d=["/Users/rijanrayamajhi/Desktop/solomon-reality/frontend/src/app/admin/settings/page.tsx"],c="/admin/settings/page",m={require:s,loadChunk:()=>Promise.resolve()},x=new t.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/admin/settings/page",pathname:"/admin/settings",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:l}})},28343:(e,r,s)=>{Promise.resolve().then(s.bind(s,6674))},50151:(e,r,s)=>{Promise.resolve().then(s.bind(s,58314))},59734:(e,r,s)=>{"use strict";s.d(r,{Z:()=>t});let t=(0,s(76557).Z)("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]])},75290:(e,r,s)=>{"use strict";s.d(r,{Z:()=>t});let t=(0,s(76557).Z)("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},31215:(e,r,s)=>{"use strict";s.d(r,{Z:()=>t});let t=(0,s(76557).Z)("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]])},17069:(e,r,s)=>{"use strict";s.d(r,{Z:()=>t});let t=(0,s(76557).Z)("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]])},24061:(e,r,s)=>{"use strict";s.d(r,{Z:()=>t});let t=(0,s(76557).Z)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]])},6674:(e,r,s)=>{"use strict";s.r(r),s.d(r,{default:()=>f});var t=s(10326);s(17577);var a=s(35047),i=s(58029),n=s(75290),o=s(30058),l=s(90434),d=s(95920),c=s(59734),m=s(5932),x=s(17069),p=s(24061),u=s(88378);function h(){let e=(0,a.usePathname)(),{user:r}=(0,i.t)(),s=[{title:"Dashboard",href:"/admin",icon:d.Z},{title:"Properties",href:"/admin/properties",icon:c.Z},{title:"Leads",href:"/admin/leads",icon:m.Z},{title:"Analytics",href:"/admin/analytics",icon:x.Z},{title:"Users",href:"/admin/users",icon:p.Z},{title:"Settings",href:"/admin/settings",icon:u.Z}];return(0,t.jsxs)("aside",{className:"w-64 bg-surface border-r border-border min-h-screen sticky top-0",children:[(0,t.jsxs)("div",{className:"p-6 border-b border-border",children:[t.jsx("h2",{className:"text-xl font-display font-bold text-accent-primary",children:"Admin Panel"}),t.jsx("p",{className:"text-text-secondary text-sm mt-1",children:r?.name||"Admin"})]}),t.jsx("nav",{className:"p-4 space-y-2",children:s.map(r=>{let s=r.icon,a=e===r.href||e?.startsWith(r.href+"/");return t.jsx(l.default,{href:r.href,children:(0,t.jsxs)(o.E.div,{whileHover:{x:4},whileTap:{scale:.98},className:`flex items-center gap-3 px-4 py-3 rounded-lg transition-all ${a?"bg-accent-primary/10 text-accent-primary border-l-4 border-accent-primary":"text-text-secondary hover:bg-surface-muted hover:text-text-primary"}`,children:[t.jsx(s,{size:20}),t.jsx("span",{className:"font-medium",children:r.title})]})},r.href)})})]})}var y=s(16681);function f({children:e}){(0,a.useRouter)();let{isAuthenticated:r,user:s}=(0,i.t)();return r&&s?.role==="admin"?(0,t.jsxs)("div",{className:"min-h-screen bg-gradient-soft flex",children:[t.jsx(h,{}),(0,t.jsxs)("div",{className:"flex-1 flex flex-col",children:[t.jsx(y.w,{}),t.jsx(o.E.main,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},className:"flex-1 p-6",children:e})]})]}):t.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-soft",children:(0,t.jsxs)("div",{className:"text-center",children:[t.jsx(n.Z,{className:"animate-spin text-accent-primary mx-auto mb-4",size:32}),t.jsx("p",{className:"text-text-secondary",children:"Redirecting to login..."})]})})}},58314:(e,r,s)=>{"use strict";s.r(r),s.d(r,{default:()=>v});var t=s(10326),a=s(17577),i=s(35047),n=s(74723),o=s(44976),l=s(20108),d=s(10119),c=s(18069),m=s(58029),x=s(75290),p=s(31215),u=s(94019),h=s(30058),y=s(40381),f=s(99837),b=s(51223);let g=(0,a.forwardRef)(({className:e,label:r,error:s,helperText:a,type:i="text",...n},o)=>(0,t.jsxs)("div",{className:"w-full",children:[r&&(0,t.jsxs)("label",{className:"block text-sm font-semibold mb-2 text-text-primary",children:[r,n.required&&t.jsx("span",{className:"text-error ml-1",children:"*"})]}),t.jsx("input",{type:i,className:(0,b.cn)("input-elegant w-full",s&&"border-error focus:ring-error focus:border-error",e),ref:o,...n}),s&&t.jsx("p",{className:"mt-1.5 text-sm text-error",children:s}),a&&!s&&t.jsx("p",{className:"mt-1.5 text-sm text-text-secondary",children:a})]}));g.displayName="Input";var j=s(46226);function v(){(0,i.useRouter)();let e=(0,o.NL)(),{isAuthenticated:r,user:s,updateUser:b}=(0,m.t)(),[v,N]=(0,a.useState)("profile"),[w,P]=(0,a.useState)(null),[k,q]=(0,a.useState)(null),[Z,S]=(0,a.useState)(!1),{data:E,isLoading:z}=(0,l.a)({queryKey:["admin-profile"],queryFn:async()=>(await c.iJ.getProfile()).data,enabled:r&&s?.role==="admin"}),{data:C}=(0,l.a)({queryKey:["admin-settings"],queryFn:async()=>(await c.Nq.getSettings()).data,enabled:r&&s?.role==="admin"}),M=(0,n.cI)({defaultValues:{name:E?.user?.name||s?.name||"",email:E?.user?.email||s?.email||"",phone:E?.user?.phone||s?.phone||""}}),_=(0,n.cI)({defaultValues:{currentPassword:"",newPassword:"",confirmPassword:""}}),F=(0,d.D)({mutationFn:e=>c.iJ.updateProfile(e),onSuccess:e=>{b(e.data.user),y.ZP.success("Profile updated successfully")},onError:e=>{y.ZP.error(e.response?.data?.error||"Failed to update profile")}}),U=(0,d.D)({mutationFn:e=>c.iJ.updateProfile({password:e.newPassword,currentPassword:e.currentPassword}),onSuccess:()=>{_.reset(),y.ZP.success("Password updated successfully")},onError:e=>{y.ZP.error(e.response?.data?.error||"Failed to update password")}}),D=async e=>{let r=e.target.files?.[0];if(!r)return;if(!r.type.startsWith("image/")){y.ZP.error("Please select an image file");return}if(r.size>5242880){y.ZP.error("Logo file size must be less than 5MB");return}P(r);let s=new FileReader;s.onloadend=()=>{q(s.result)},s.readAsDataURL(r)},L=(0,d.D)({mutationFn:e=>c.Nq.updateSettings(e),onSuccess:()=>{e.invalidateQueries({queryKey:["admin-settings"]}),e.invalidateQueries({queryKey:["site-settings"]}),e.refetchQueries({queryKey:["site-settings"]}),P(null),q(null),y.ZP.success("Logo updated successfully. It will appear on all pages.")},onError:e=>{y.ZP.error(e.response?.data?.error||"Failed to update logo")}}),A=async()=>{if(!w){y.ZP.error("Please select a logo file");return}S(!0);try{let e=await c.XF.upload(w),r=e.data.secure_url||e.data.url;L.mutate({logo:r})}catch(e){y.ZP.error(e.response?.data?.error||"Failed to upload logo"),console.error("Logo upload error:",e)}finally{S(!1)}},I=C?.settings?.logo;return z?t.jsx("div",{className:"min-h-screen flex items-center justify-center",children:t.jsx(x.Z,{className:"animate-spin text-accent-primary",size:32})}):t.jsx("div",{className:"min-h-screen bg-gradient-soft p-6",children:(0,t.jsxs)("div",{className:"max-w-[1280px] mx-auto px-4 sm:px-6 lg:px-8",children:[(0,t.jsxs)(h.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mb-8",children:[t.jsx("h1",{className:"text-4xl font-display font-bold text-text-primary mb-2",children:"Settings"}),t.jsx("p",{className:"text-text-secondary",children:"Manage your account settings and preferences"})]}),(0,t.jsxs)("div",{className:"flex border-b border-border mb-6",children:[(0,t.jsxs)("button",{onClick:()=>N("profile"),className:`relative px-6 py-3 text-sm font-semibold transition-colors ${"profile"===v?"text-accent-primary":"text-text-secondary hover:text-text-primary"}`,children:["Profile Info","profile"===v&&t.jsx(h.E.div,{layoutId:"activeTab",className:"absolute bottom-0 left-0 right-0 h-0.5 bg-accent-primary",initial:!1,transition:{type:"spring",stiffness:500,damping:30}})]}),(0,t.jsxs)("button",{onClick:()=>N("branding"),className:`relative px-6 py-3 text-sm font-semibold transition-colors ${"branding"===v?"text-accent-primary":"text-text-secondary hover:text-text-primary"}`,children:["Branding","branding"===v&&t.jsx(h.E.div,{layoutId:"activeTab",className:"absolute bottom-0 left-0 right-0 h-0.5 bg-accent-primary",initial:!1,transition:{type:"spring",stiffness:500,damping:30}})]}),(0,t.jsxs)("button",{onClick:()=>N("security"),className:`relative px-6 py-3 text-sm font-semibold transition-colors ${"security"===v?"text-accent-primary":"text-text-secondary hover:text-text-primary"}`,children:["Security","security"===v&&t.jsx(h.E.div,{layoutId:"activeTab",className:"absolute bottom-0 left-0 right-0 h-0.5 bg-accent-primary",initial:!1,transition:{type:"spring",stiffness:500,damping:30}})]})]}),"profile"===v&&(0,t.jsxs)(h.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"card-luxury mt-6",children:[t.jsx("h2",{className:"text-2xl font-display font-bold text-accent-primary mb-6",children:"Profile Information"}),(0,t.jsxs)("form",{onSubmit:M.handleSubmit(e=>{F.mutate(e)}),className:"space-y-6",children:[(0,t.jsxs)("div",{children:[t.jsx("label",{className:"block text-sm font-semibold mb-2 text-text-primary",children:"Name"}),t.jsx(g,{...M.register("name",{required:"Name is required"}),placeholder:"Your full name"}),M.formState.errors.name&&t.jsx("p",{className:"text-error text-sm mt-1",children:M.formState.errors.name.message})]}),(0,t.jsxs)("div",{children:[t.jsx("label",{className:"block text-sm font-semibold mb-2 text-text-primary",children:"Email"}),t.jsx(g,{type:"email",...M.register("email",{required:"Email is required",pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"Invalid email address"}}),placeholder:"your.email@example.com",disabled:!0}),t.jsx("p",{className:"text-text-secondary text-xs mt-1",children:"Email cannot be changed"})]}),(0,t.jsxs)("div",{children:[t.jsx("label",{className:"block text-sm font-semibold mb-2 text-text-primary",children:"Phone"}),t.jsx(g,{type:"tel",...M.register("phone"),placeholder:"+91 1234567890"})]}),t.jsx("div",{className:"flex justify-end pt-4 border-t border-border",children:(0,t.jsxs)(f.z,{type:"submit",disabled:F.isPending,className:"flex items-center gap-2",children:[t.jsx(p.Z,{size:18}),"Save Changes"]})})]})]}),"branding"===v&&(0,t.jsxs)(h.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"card-luxury mt-6",children:[t.jsx("h2",{className:"text-2xl font-display font-bold text-accent-primary mb-6",children:"Branding"}),(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{children:[t.jsx("label",{className:"block text-sm font-semibold mb-2 text-text-primary",children:"Company Logo"}),t.jsx("p",{className:"text-xs text-text-secondary mb-3",children:"Upload your company logo (max 5MB, PNG/JPG recommended)"}),I&&!k&&(0,t.jsxs)("div",{className:"mb-4 p-4 bg-surface-muted rounded-lg border border-border",children:[t.jsx("p",{className:"text-sm text-text-secondary mb-2",children:"Current Logo:"}),t.jsx("div",{className:"relative w-48 h-24 bg-white rounded-lg overflow-hidden border border-border",children:t.jsx(j.default,{src:I,alt:"Current Logo",fill:!0,className:"object-contain",sizes:"192px"})})]}),k&&(0,t.jsxs)("div",{className:"mb-4 p-4 bg-surface-muted rounded-lg border border-border",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("p",{className:"text-sm text-text-secondary",children:"New Logo Preview:"}),t.jsx("button",{type:"button",onClick:()=>{P(null),q(null)},className:"text-error hover:text-error/80 transition-colors",title:"Remove selected logo",children:t.jsx(u.Z,{size:16})})]}),t.jsx("div",{className:"relative w-48 h-24 bg-white rounded-lg overflow-hidden border border-border",children:t.jsx(j.default,{src:k,alt:"Logo Preview",fill:!0,className:"object-contain",sizes:"192px"})}),w&&(0,t.jsxs)("p",{className:"text-xs text-text-secondary mt-2",children:["File: ",w.name]})]}),t.jsx("input",{type:"file",accept:"image/*",onChange:D,className:"input-elegant w-full",disabled:Z})]}),t.jsx("div",{className:"flex justify-end pt-4 border-t border-border",children:t.jsx(f.z,{onClick:A,disabled:!w||Z||L.isPending,className:"flex items-center gap-2",children:Z||L.isPending?(0,t.jsxs)(t.Fragment,{children:[t.jsx(x.Z,{className:"animate-spin",size:18}),Z?"Uploading...":"Saving..."]}):(0,t.jsxs)(t.Fragment,{children:[t.jsx(p.Z,{size:18}),"Save Changes"]})})})]})]}),"security"===v&&(0,t.jsxs)(h.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"card-luxury mt-6",children:[t.jsx("h2",{className:"text-2xl font-display font-bold text-accent-primary mb-6",children:"Security"}),(0,t.jsxs)("form",{onSubmit:_.handleSubmit(e=>{if(e.newPassword!==e.confirmPassword){y.ZP.error("New passwords do not match");return}if(e.newPassword.length<6){y.ZP.error("Password must be at least 6 characters");return}U.mutate({currentPassword:e.currentPassword,newPassword:e.newPassword})}),className:"space-y-6",children:[(0,t.jsxs)("div",{children:[t.jsx("label",{className:"block text-sm font-semibold mb-2 text-text-primary",children:"Current Password"}),t.jsx(g,{type:"password",..._.register("currentPassword",{required:"Current password is required"}),placeholder:"Enter current password"}),_.formState.errors.currentPassword&&t.jsx("p",{className:"text-error text-sm mt-1",children:_.formState.errors.currentPassword.message})]}),(0,t.jsxs)("div",{children:[t.jsx("label",{className:"block text-sm font-semibold mb-2 text-text-primary",children:"New Password"}),t.jsx(g,{type:"password",..._.register("newPassword",{required:"New password is required",minLength:{value:6,message:"Password must be at least 6 characters"}}),placeholder:"Enter new password"}),_.formState.errors.newPassword&&t.jsx("p",{className:"text-error text-sm mt-1",children:_.formState.errors.newPassword.message})]}),(0,t.jsxs)("div",{children:[t.jsx("label",{className:"block text-sm font-semibold mb-2 text-text-primary",children:"Confirm New Password"}),t.jsx(g,{type:"password",..._.register("confirmPassword",{required:"Please confirm your password"}),placeholder:"Confirm new password"}),_.formState.errors.confirmPassword&&t.jsx("p",{className:"text-error text-sm mt-1",children:_.formState.errors.confirmPassword.message})]}),t.jsx("div",{className:"flex items-center gap-3 pt-4 border-t border-border",children:(0,t.jsxs)("label",{className:"flex items-center gap-2 cursor-pointer",children:[t.jsx("input",{type:"checkbox",className:"w-4 h-4 text-accent-primary bg-surface border-border rounded focus:ring-2 focus:ring-accent-primary"}),t.jsx("span",{className:"text-sm text-text-primary",children:"Enable Two-Factor Authentication"})]})}),t.jsx("div",{className:"flex justify-end pt-4",children:(0,t.jsxs)(f.z,{type:"submit",disabled:U.isPending,className:"flex items-center gap-2",children:[t.jsx(p.Z,{size:18}),"Save Changes"]})})]})]})]})})}},9457:(e,r,s)=>{"use strict";s.r(r),s.d(r,{default:()=>t});let t=(0,s(68570).createProxy)(String.raw`/Users/rijanrayamajhi/Desktop/solomon-reality/frontend/src/app/admin/layout.tsx#default`)},92632:(e,r,s)=>{"use strict";s.r(r),s.d(r,{default:()=>t});let t=(0,s(68570).createProxy)(String.raw`/Users/rijanrayamajhi/Desktop/solomon-reality/frontend/src/app/admin/settings/page.tsx#default`)}};var r=require("../../../webpack-runtime.js");r.C(e);var s=e=>r(r.s=e),t=r.X(0,[997,744,721],()=>s(63852));module.exports=t})();