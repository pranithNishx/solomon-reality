"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[823],{15863:function(t,e,i){i.d(e,{Z:function(){return s}});let s=(0,i(39763).Z)("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},18930:function(t,e,i){i.d(e,{Z:function(){return s}});let s=(0,i(39763).Z)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},99376:function(t,e,i){var s=i(35475);i.o(s,"useParams")&&i.d(e,{useParams:function(){return s.useParams}}),i.o(s,"usePathname")&&i.d(e,{usePathname:function(){return s.usePathname}}),i.o(s,"useRouter")&&i.d(e,{useRouter:function(){return s.useRouter}}),i.o(s,"useSearchParams")&&i.d(e,{useSearchParams:function(){return s.useSearchParams}})},71837:function(t,e,i){i.d(e,{A7:function(){return m},Nq:function(){return c},Sf:function(){return r},WA:function(){return v},XF:function(){return d},YE:function(){return l},fn:function(){return u},iJ:function(){return o},pJ:function(){return h},vt:function(){return p}});var s=i(83464);let n=i(40257).env.NEXT_PUBLIC_API_URL||"http://localhost:5000/api",a=s.Z.create({baseURL:n,headers:{"Content-Type":"application/json"},timeout:1e4,withCredentials:!1});a.interceptors.request.use(t=>{{let e=localStorage.getItem("token");e&&(t.headers.Authorization="Bearer ".concat(e))}return t}),a.interceptors.response.use(t=>t,t=>{var e,i;if((null===(e=t.response)||void 0===e?void 0:e.status)===401){let e=window.location.pathname;if("/"===e||"/properties"===e||e.startsWith("/properties/")||"/login"===e||"/register"===e)return localStorage.removeItem("token"),localStorage.removeItem("auth-storage"),window.dispatchEvent(new Event("storage")),Promise.reject(t);let s=(null===(i=t.config)||void 0===i?void 0:i.url)||"";(s.includes("/auth/")||s.includes("/wishlist")||s.includes("/admin")||s.includes("/profile"))&&(localStorage.removeItem("token"),localStorage.removeItem("auth-storage"),window.dispatchEvent(new Event("storage")),e.includes("/login")||(window.location.href="/login"))}return Promise.reject(t)});let o={register:t=>a.post("/auth/register",t),login:t=>a.post("/auth/login",t),getProfile:()=>a.get("/auth/profile"),updateProfile:t=>a.put("/auth/profile",t),verifyToken:()=>a.get("/auth/verify")},r={getAll:t=>{let e={};return(null==t?void 0:t.page)&&(e.page=t.page),(null==t?void 0:t.limit)&&(e.limit=t.limit),(null==t?void 0:t.status)&&(e.status=t.status),(null==t?void 0:t.search)&&(e.search=t.search),(null==t?void 0:t.category)&&(e.category=t.category),(null==t?void 0:t.purpose)&&(e.purpose=t.purpose),(null==t?void 0:t.subtype)&&(e.subtype=t.subtype),(null==t?void 0:t.minPrice)&&(e.minPrice=t.minPrice),(null==t?void 0:t.maxPrice)&&(e.maxPrice=t.maxPrice),(null==t?void 0:t.minArea)&&(e.minArea=t.minArea),(null==t?void 0:t.maxArea)&&(e.maxArea=t.maxArea),(null==t?void 0:t.bhk)&&(e.bhk=t.bhk),(null==t?void 0:t.bathrooms)&&(e.bathrooms=t.bathrooms),(null==t?void 0:t.furnishing)&&(e.furnishing=t.furnishing),(null==t?void 0:t.availableFor)&&t.availableFor.length>0&&(e.availableFor=t.availableFor),(null==t?void 0:t.availableFrom)&&(e.availableFrom=t.availableFrom),(null==t?void 0:t.constructionStatus)&&(e.constructionStatus=t.constructionStatus),(null==t?void 0:t.investmentType)&&t.investmentType.length>0&&(e.investmentType=t.investmentType),(null==t?void 0:t.powerCapacity)&&(e.powerCapacity=t.powerCapacity),(null==t?void 0:t.meetingRooms)!==void 0&&(e.meetingRooms=t.meetingRooms),(null==t?void 0:t.pantry)!==void 0&&(e.pantry=t.pantry),(null==t?void 0:t.conferenceRoom)!==void 0&&(e.conferenceRoom=t.conferenceRoom),(null==t?void 0:t.cabins)&&(e.cabins=t.cabins),(null==t?void 0:t.washrooms)&&(e.washrooms=t.washrooms),(null==t?void 0:t.floorPreference)&&(e.floorPreference=t.floorPreference),(null==t?void 0:t.locatedOn)&&(e.locatedOn=t.locatedOn),(null==t?void 0:t.officeSpread)&&(e.officeSpread=t.officeSpread),(null==t?void 0:t.situatedIn)&&(e.situatedIn=t.situatedIn),(null==t?void 0:t.businessType)&&t.businessType.length>0&&(e.businessType=t.businessType),(null==t?void 0:t.city)&&(e.city=t.city),(null==t?void 0:t.state)&&(e.state=t.state),(null==t?void 0:t.locality)&&(e.locality=t.locality),(null==t?void 0:t.amenities)&&t.amenities.length>0&&(e.amenities=t.amenities),(null==t?void 0:t.reraApproved)!==void 0&&(e.reraApproved=t.reraApproved),(null==t?void 0:t.ageOfProperty)&&(e.ageOfProperty=t.ageOfProperty),(null==t?void 0:t.possessionStatus)&&(e.possessionStatus=t.possessionStatus),(null==t?void 0:t.facing)&&(e.facing=t.facing),(null==t?void 0:t.parking)&&(e.parking=t.parking),(null==t?void 0:t.sortBy)&&(e.sortBy=t.sortBy),a.get("/properties",{params:e})},getById:t=>a.get("/properties/".concat(t)),create:t=>a.post("/properties",t),update:(t,e)=>a.put("/properties/".concat(t),e),delete:t=>a.delete("/properties/".concat(t)),search:t=>r.getAll({...t,page:t.page,limit:t.limit}),getSimilar:(t,e)=>a.get("/properties/".concat(t,"/similar"),{params:{limit:e}})},u={create:t=>a.post("/leads",t),getAll:t=>a.get("/leads",{params:t}),getById:t=>a.get("/leads/".concat(t)),updateStatus:(t,e)=>a.put("/leads/".concat(t,"/status"),{status:e}),delete:t=>a.delete("/leads/".concat(t)),exportCSV:()=>a.get("/leads/export/csv",{responseType:"blob"})},l={getAll:()=>a.get("/wishlist"),add:t=>a.post("/wishlist",{property_id:t}),remove:t=>a.delete("/wishlist/".concat(t))},c={getDashboard:()=>a.get("/admin/dashboard"),getUsers:t=>a.get("/admin/users",{params:t}),updateUserStatus:(t,e)=>a.put("/admin/users/".concat(t,"/status"),{is_active:e}),updateUserRole:(t,e)=>a.put("/admin/users/".concat(t,"/role"),{role:e}),deleteUser:t=>a.delete("/admin/users/".concat(t)),getAnalytics:t=>a.get("/admin/analytics",{params:t}),getSettings:()=>a.get("/admin/settings"),updateSettings:t=>a.put("/admin/settings",t)},h={getPublicSettings:()=>a.get("/admin/settings/public")},d={upload:t=>{let e=new FormData;e.append("file",t);let i=t.type.startsWith("video/");return a.post("/media/upload",e,{headers:{"Content-Type":"multipart/form-data"},timeout:i?6e5:3e4,onUploadProgress:t=>{t.total&&(t.loaded,t.total)}})},uploadMultiple:t=>{let e=new FormData;t.forEach(t=>e.append("files",t));let i=t.some(t=>t.type.startsWith("video/"));return a.post("/media/upload/multiple",e,{headers:{"Content-Type":"multipart/form-data"},timeout:i?6e5:3e4})}},p={search:t=>a.get("/locations",{params:{query:t}})},m={getAll:()=>a.get("/drafts"),create:t=>a.post("/drafts",t),update:(t,e)=>a.put("/drafts/".concat(t),e),delete:t=>a.delete("/drafts/".concat(t))},v={getAll:()=>a.get("/amenities"),create:t=>a.post("/amenities",t),update:(t,e)=>a.put("/amenities/".concat(t),e),delete:t=>a.delete("/amenities/".concat(t))}},1217:function(t,e,i){i.d(e,{t:function(){return a}});var s=i(59625),n=i(89134);let a=(0,s.Ue)()((0,n.tJ)(t=>({user:null,token:null,isAuthenticated:!1,setAuth:(e,i)=>{localStorage.setItem("token",i),t({user:e,token:i,isAuthenticated:!0})},clearAuth:()=>{localStorage.removeItem("token"),t({user:null,token:null,isAuthenticated:!1})},updateUser:e=>t(t=>({user:t.user?{...t.user,...e}:null}))}),{name:"auth-storage",partialize:t=>({user:t.user,token:t.token,isAuthenticated:t.isAuthenticated})}))},2894:function(t,e,i){i.d(e,{R:function(){return r},m:function(){return o}});var s=i(18238),n=i(7989),a=i(11255),o=class extends n.F{#t;#e;#i;#s;constructor(t){super(),this.#t=t.client,this.mutationId=t.mutationId,this.#i=t.mutationCache,this.#e=[],this.state=t.state||r(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){this.#e.includes(t)||(this.#e.push(t),this.clearGcTimeout(),this.#i.notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){this.#e=this.#e.filter(e=>e!==t),this.scheduleGc(),this.#i.notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){this.#e.length||("pending"===this.state.status?this.scheduleGc():this.#i.remove(this))}continue(){return this.#s?.continue()??this.execute(this.state.variables)}async execute(t){let e=()=>{this.#n({type:"continue"})},i={client:this.#t,meta:this.options.meta,mutationKey:this.options.mutationKey};this.#s=(0,a.Mz)({fn:()=>this.options.mutationFn?this.options.mutationFn(t,i):Promise.reject(Error("No mutationFn found")),onFail:(t,e)=>{this.#n({type:"failed",failureCount:t,error:e})},onPause:()=>{this.#n({type:"pause"})},onContinue:e,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#i.canRun(this)});let s="pending"===this.state.status,n=!this.#s.canStart();try{if(s)e();else{this.#n({type:"pending",variables:t,isPaused:n}),await this.#i.config.onMutate?.(t,this,i);let e=await this.options.onMutate?.(t,i);e!==this.state.context&&this.#n({type:"pending",context:e,variables:t,isPaused:n})}let a=await this.#s.start();return await this.#i.config.onSuccess?.(a,t,this.state.context,this,i),await this.options.onSuccess?.(a,t,this.state.context,i),await this.#i.config.onSettled?.(a,null,this.state.variables,this.state.context,this,i),await this.options.onSettled?.(a,null,t,this.state.context,i),this.#n({type:"success",data:a}),a}catch(e){try{throw await this.#i.config.onError?.(e,t,this.state.context,this,i),await this.options.onError?.(e,t,this.state.context,i),await this.#i.config.onSettled?.(void 0,e,this.state.variables,this.state.context,this,i),await this.options.onSettled?.(void 0,e,t,this.state.context,i),e}finally{this.#n({type:"error",error:e})}}finally{this.#i.runNext(this)}}#n(t){this.state=(e=>{switch(t.type){case"failed":return{...e,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...e,isPaused:!0};case"continue":return{...e,isPaused:!1};case"pending":return{...e,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...e,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...e,data:void 0,error:t.error,failureCount:e.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}})(this.state),s.Vr.batch(()=>{this.#e.forEach(e=>{e.onMutationUpdate(t)}),this.#i.notify({mutation:this,type:"updated",action:t})})}};function r(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}},21770:function(t,e,i){i.d(e,{D:function(){return c}});var s=i(2265),n=i(2894),a=i(18238),o=i(24112),r=i(45345),u=class extends o.l{#t;#a=void 0;#o;#r;constructor(t,e){super(),this.#t=t,this.setOptions(e),this.bindMethods(),this.#u()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(t){let e=this.options;this.options=this.#t.defaultMutationOptions(t),(0,r.VS)(this.options,e)||this.#t.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#o,observer:this}),e?.mutationKey&&this.options.mutationKey&&(0,r.Ym)(e.mutationKey)!==(0,r.Ym)(this.options.mutationKey)?this.reset():this.#o?.state.status==="pending"&&this.#o.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#o?.removeObserver(this)}onMutationUpdate(t){this.#u(),this.#l(t)}getCurrentResult(){return this.#a}reset(){this.#o?.removeObserver(this),this.#o=void 0,this.#u(),this.#l()}mutate(t,e){return this.#r=e,this.#o?.removeObserver(this),this.#o=this.#t.getMutationCache().build(this.#t,this.options),this.#o.addObserver(this),this.#o.execute(t)}#u(){let t=this.#o?.state??(0,n.R)();this.#a={...t,isPending:"pending"===t.status,isSuccess:"success"===t.status,isError:"error"===t.status,isIdle:"idle"===t.status,mutate:this.mutate,reset:this.reset}}#l(t){a.Vr.batch(()=>{if(this.#r&&this.hasListeners()){let e=this.#a.variables,i=this.#a.context,s={client:this.#t,meta:this.options.meta,mutationKey:this.options.mutationKey};t?.type==="success"?(this.#r.onSuccess?.(t.data,e,i,s),this.#r.onSettled?.(t.data,null,e,i,s)):t?.type==="error"&&(this.#r.onError?.(t.error,e,i,s),this.#r.onSettled?.(void 0,t.error,e,i,s))}this.listeners.forEach(t=>{t(this.#a)})})}},l=i(29827);function c(t,e){let i=(0,l.NL)(e),[n]=s.useState(()=>new u(i,t));s.useEffect(()=>{n.setOptions(t)},[n,t]);let o=s.useSyncExternalStore(s.useCallback(t=>n.subscribe(a.Vr.batchCalls(t)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),c=s.useCallback((t,e)=>{n.mutate(t,e).catch(r.ZT)},[n]);if(o.error&&(0,r.L3)(n.options.throwOnError,[o.error]))throw o.error;return{...o,mutate:c,mutateAsync:o.mutate}}}}]);