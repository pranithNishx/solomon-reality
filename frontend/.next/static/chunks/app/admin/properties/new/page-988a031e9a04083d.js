(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[67],{1980:function(e,t,s){Promise.resolve().then(s.bind(s,3563))},42208:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(39763).Z)("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},15863:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(39763).Z)("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},99397:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(39763).Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},83229:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(39763).Z)("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]])},32489:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(39763).Z)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},27648:function(e,t,s){"use strict";s.d(t,{default:function(){return i.a}});var a=s(72972),i=s.n(a)},3563:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return q}});var a=s(57437),i=s(2265),r=s(99376),l=s(29501),n=s(29827),o=s(11713),c=s(21770),d=s(71837),m=s(1217),u=s(69064),p=s(27648),x=s(99397),h=s(15863),f=s(32489),y=s(39763);let b=(0,y.Z)("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]),g=(0,y.Z)("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);var v=s(42208),j=s(83229),N=s(48614),w=s(40521);let k=["Apartment","Land","Villa","Builder Floor","Farm House","Studio Apartment"],P=["Ready to Move Offices","Bare Shell Offices","Shops & Retail","Commercial/Inst Land","Agricultural/Farm Land","Industrial Land/Plots","Warehouse","Cold Storage","Factory & Manufacturing","Hotel/Resorts","Others"],S=["sq.ft","sq.yd","sq.m","acres","marla","cents"],A=["New Launch","Under Construction","Ready to Move"],C=["Assured Returns","Rental Yield","Lease Guarantee","ROI"],F=["Immediately","1 Month","3 Months","After 3 Months"],R=["Family","Single Men","Single Women","Company Lease"],M=["0-1 years","1-5 years","5-10 years","10+ years","20+ years"],E=["Basement","Ground","Terrace","1st+"],Z=["1 RK","1 BHK","2 BHK","3 BHK","4 BHK","5 BHK","6 BHK","7 BHK","8 BHK","9+ BHK"],I=["Lift","Vaastu Compliant","Security Personnel","Power Backup","Parking","Gym","Club House","Park","Swimming Pool","Gas Pipeline","Fire Hydrant","Fire Sprinkler","Fire NOC"],T=[...I,"AC Room","Pet Friendly","Wheelchair Friendly","Wi-Fi","Laundry Available","Food Service"],B=[...I,"Near Bank","ATM","Waste Disposal","DG Availability","Wheelchair Access"];function q(){let e=(0,r.useRouter)(),t=(0,n.NL)(),{data:s,isLoading:y}=(0,o.a)({queryKey:["amenities"],queryFn:async()=>(await d.WA.getAll()).data}),q=(null==s?void 0:s.amenities)||[],L=(0,c.D)({mutationFn:e=>d.WA.create(e),onSuccess:()=>{t.invalidateQueries({queryKey:["amenities"]}),es(""),ei(!1),u.ZP.success("Amenity added successfully")},onError:e=>{var t,s;u.ZP.error((null===(s=e.response)||void 0===s?void 0:null===(t=s.data)||void 0===t?void 0:t.error)||"Failed to add amenity")}}),U=(0,c.D)({mutationFn:e=>d.WA.delete(e),onSuccess:()=>{t.invalidateQueries({queryKey:["amenities"]}),u.ZP.success("Amenity deleted successfully")},onError:e=>{var t,s;u.ZP.error((null===(s=e.response)||void 0===s?void 0:null===(t=s.data)||void 0===t?void 0:t.error)||"Failed to delete amenity")}}),{isAuthenticated:z,user:D}=(0,m.t)(),[W,O]=(0,i.useState)([]),[K,H]=(0,i.useState)(!1),[V,_]=(0,i.useState)(0),[G,X]=(0,i.useState)(null),[Y,J]=(0,i.useState)(null),Q=(0,i.useRef)(null),[$,ee]=(0,i.useState)(!1),[et,es]=(0,i.useState)(""),[ea,ei]=(0,i.useState)(!1);(0,i.useEffect)(()=>{z&&(null==D?void 0:D.role)==="admin"||e.push("/")},[z,D,e]);let{register:er,handleSubmit:el,formState:{errors:en},watch:eo,setValue:ec,reset:ed}=(0,l.cI)({defaultValues:{category:"Residential",purpose:"Buy",areaUnit:"sq.ft",amenities:[],features:[],reraApproved:!1}}),em=eo("category"),eu=eo("subtype"),ep=(0,i.useCallback)(async e=>{if(!$){ee(!0);try{let t=ex(e),s={title:e.title||"Untitled Property",payload:t};if(G)await d.A7.update(G,s);else{let e=await d.A7.create(s);X(e.data.draft.id)}J(new Date)}catch(e){console.error("Auto-save error:",e)}finally{ee(!1)}}},[G,$]);(0,i.useEffect)(()=>{let e=eo(e=>{Q.current&&clearTimeout(Q.current),Q.current=setTimeout(()=>{(e.title||e.city)&&ep(e)},2e3)});return()=>{e.unsubscribe(),Q.current&&clearTimeout(Q.current)}},[eo,ep]),(0,i.useEffect)(()=>{em&&(ec("subtype",""),ec("amenities",[]),ec("features",[]))},[em,ec]);let ex=e=>{var t,s,a,i;let r={category:e.category,subtype:e.subtype||void 0,purpose:e.purpose,price:parseFloat(e.price.toString()),priceUnit:"₹",area:parseFloat(e.area.toString()),areaUnit:e.areaUnit||"sq.ft",description:e.description||"",location:{address:e.address||void 0,locality:e.locality||void 0,city:e.city.trim(),state:e.state||void 0,pincode:e.pincode||void 0,latitude:e.latitude?parseFloat(e.latitude.toString()):void 0,longitude:e.longitude?parseFloat(e.longitude.toString()):void 0},amenities:e.amenities||[],features:e.features||[],images:W.filter(e=>"image"===e.type).map(e=>e.url),videos:W.filter(e=>"video"===e.type).map(e=>e.url),floorPlan:(null===(t=W.find(e=>"floorPlan"===e.type))||void 0===t?void 0:t.url)||void 0,reraApproved:e.reraApproved||!1,reraNumber:e.reraNumber||void 0,possessionStatus:e.possessionStatus||void 0,ageOfProperty:e.ageOfProperty||void 0,facing:e.facing||void 0,parking:e.parking||void 0,totalFloors:e.totalFloors?parseInt(e.totalFloors.toString(),10):void 0,floorNumber:e.floorNumber?parseInt(e.floorNumber.toString(),10):void 0,floorPreference:e.floorPreference||void 0};return"Residential"===e.category&&(r.bhk=e.bhk||void 0,r.bathrooms=e.bathrooms?parseInt(e.bathrooms.toString(),10):void 0,r.furnishing=e.furnishing||void 0,r.availableFrom=e.availableFrom||void 0,r.availableFor=e.availableFor||void 0),"Commercial"===e.category&&(r.constructionStatus=e.constructionStatus||void 0,r.investmentType=e.investmentType||void 0,r.powerCapacity=e.powerCapacity||void 0,(null===(s=e.subtype)||void 0===s?void 0:s.includes("Office"))&&(r.meetingRooms=e.meetingRooms||!1,r.pantry=e.pantry||!1,r.conferenceRoom=e.conferenceRoom||!1,r.cabins=e.cabins?parseInt(e.cabins.toString(),10):void 0),((null===(a=e.subtype)||void 0===a?void 0:a.includes("Shop"))||(null===(i=e.subtype)||void 0===i?void 0:i.includes("Retail")))&&(r.situatedIn=e.situatedIn||void 0,r.businessType=e.businessType||void 0)),r},eh=(0,c.D)({mutationFn:e=>d.Sf.create(e),onSuccess:()=>{G&&d.A7.delete(G).catch(console.error),u.ZP.success("Property created successfully"),t.invalidateQueries({queryKey:["admin-properties"]}),e.push("/admin/properties")},onError:e=>{var t;let s=null===(t=e.response)||void 0===t?void 0:t.data;if((null==s?void 0:s.errors)&&Array.isArray(s.errors)){let e=s.errors.map(e=>e.msg||e.message).join(", ");u.ZP.error("Validation failed: ".concat(e)),console.error("Validation errors:",s.errors)}else u.ZP.error((null==s?void 0:s.error)||e.message||"Failed to create property");console.error("Create property error:",e)}}),ef=(0,c.D)({mutationFn:e=>G?d.A7.update(G,e):d.A7.create(e),onSuccess:e=>{!G&&e.data.draft&&X(e.data.draft.id),J(new Date),u.ZP.success("Draft saved successfully")},onError:e=>{u.ZP.error("Failed to save draft"),console.error("Save draft error:",e)}}),ey=async(e,t)=>{if(!e||0===e.length)return;let s="video"===t?104857600:10485760,a=[];if(Array.from(e).forEach(e=>{e.size>s&&a.push(e)}),a.length>0){let e=(a[0].size/1048576).toFixed(2),i=(s/1048576).toFixed(0);u.ZP.error("File too large: ".concat(a[0].name," (").concat(e,"MB). Maximum allowed: ").concat(i,"MB for ").concat("video"===t?"videos":"images",". Please compress your file."),{duration:6e3});return}H(!0),_(0);try{let s=Array.from(e).map(async(s,a)=>{try{let i=await d.XF.upload(s);return _((a+1)/e.length*100),{url:i.data.secure_url||i.data.url,type:t,order:W.length+a}}catch(t){var i,r;let e=(null===(r=t.response)||void 0===r?void 0:null===(i=r.data)||void 0===i?void 0:i.error)||t.message||"Failed to upload ".concat(s.name);throw u.ZP.error(e,{duration:6e3}),t}}),a=await Promise.all(s);O([...W,...a]),u.ZP.success("".concat("image"===t?"Images":"video"===t?"Videos":"Floor plan"," uploaded successfully"))}catch(e){console.error("Upload error:",e)}finally{H(!1),_(0)}},eb=e=>{O(W.filter((t,s)=>s!==e))},eg=(e,t)=>{let s=[...W],a="up"===t?e-1:e+1;a>=0&&a<s.length&&([s[e],s[a]]=[s[a],s[e]],O(s))},ev=()=>{let e=q.map(e=>e.name);if(0===e.length)return"Residential"===em?T:(null==eu?void 0:eu.includes("Shop"))||(null==eu?void 0:eu.includes("Retail"))?B:I;let t=q.filter(e=>!e.category||e.category===em||"Common"===e.category).map(e=>e.name);return t.length>0?t:e},ej=()=>{if(!et.trim()){u.ZP.error("Please enter an amenity name");return}let e=em||void 0;L.mutate({name:et.trim(),category:e})},eN=null==eu?void 0:eu.includes("Office"),ew=(null==eu?void 0:eu.includes("Shop"))||(null==eu?void 0:eu.includes("Retail")),ek="Residential"===em;return z&&(null==D?void 0:D.role)==="admin"?(0,a.jsx)("div",{className:"min-h-screen bg-background py-12 px-4",children:(0,a.jsxs)("div",{className:"container mx-auto max-w-6xl",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-8",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("h1",{className:"text-4xl font-display font-bold",children:[(0,a.jsx)("span",{className:"text-gradient",children:"Create"})," ",(0,a.jsx)("span",{className:"text-text-primary",children:"Property"})]}),Y&&(0,a.jsxs)("p",{className:"text-text-secondary text-sm mt-2",children:["Last saved: ",Y.toLocaleTimeString(),$&&(0,a.jsx)("span",{className:"ml-2",children:"Saving..."})]})]}),(0,a.jsx)(p.default,{href:"/admin/properties",className:"btn-secondary",children:"Back to Properties"})]}),(0,a.jsxs)("form",{onSubmit:el(e=>{if(!e.title||e.title.trim().length<5){u.ZP.error("Title must be at least 5 characters long");return}if(!e.subtype){u.ZP.error("Property type is required");return}if(!e.city||0===e.city.trim().length){u.ZP.error("City is required");return}if(!e.price||e.price<=0){u.ZP.error("Valid price is required");return}if(!e.area||e.area<=0){u.ZP.error("Valid area is required");return}W.filter(e=>"image"===e.type).length<3&&u.ZP.error("At least 3 images are recommended");let t=ex(e);eh.mutate({title:e.title.trim(),payload:t})}),className:"space-y-6",children:[(0,a.jsxs)("div",{className:"card-luxury p-6",children:[(0,a.jsx)("h2",{className:"text-2xl font-display font-bold mb-4 text-accent-primary",children:"Category"}),(0,a.jsxs)("div",{className:"flex space-x-4",children:[(0,a.jsx)("button",{type:"button",onClick:()=>{ec("category","Residential"),ec("subtype","")},className:"px-6 py-3 rounded-lg font-semibold transition-all ".concat("Residential"===em?"bg-gradient-primary text-white shadow-soft":"bg-surface-muted text-text-secondary hover:text-accent-primary hover:bg-surface"),children:"Residential"}),(0,a.jsx)("button",{type:"button",onClick:()=>{ec("category","Commercial"),ec("subtype","")},className:"px-6 py-3 rounded-lg font-semibold transition-all ".concat("Commercial"===em?"bg-gradient-primary text-white shadow-soft":"bg-surface-muted text-text-secondary hover:text-accent-primary hover:bg-surface"),children:"Commercial"})]})]}),(0,a.jsxs)("div",{className:"card-luxury p-6",children:[(0,a.jsx)("h2",{className:"text-2xl font-display font-bold mb-4 text-accent-primary",children:"Basic Information"}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-semibold mb-2 text-text-primary",children:"Title *"}),(0,a.jsx)("input",{type:"text",...er("title",{required:"Title is required",minLength:{value:5,message:"Title must be at least 5 characters"}}),className:"input-elegant w-full",placeholder:"Luxury 3 BHK Apartment in Mumbai"}),en.title&&(0,a.jsx)("p",{className:"text-error text-sm mt-1",children:en.title.message})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-semibold mb-2 text-text-primary",children:"Property Type *"}),(0,a.jsxs)("select",{...er("subtype",{required:"Property type is required"}),className:"input-elegant w-full",children:[(0,a.jsx)("option",{value:"",children:"Select Property Type"}),("Residential"===em?k:P).map(e=>(0,a.jsx)("option",{value:e,children:e},e))]}),en.subtype&&(0,a.jsx)("p",{className:"text-error text-sm mt-1",children:en.subtype.message})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-semibold mb-2 text-text-primary",children:"Purpose *"}),(0,a.jsxs)("select",{...er("purpose",{required:"Purpose is required"}),className:"input-elegant w-full",children:[(0,a.jsx)("option",{value:"Buy",children:"Buy"}),(0,a.jsx)("option",{value:"Rent",children:"Rent"}),(0,a.jsx)("option",{value:"Lease",children:"Lease"})]})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-semibold mb-2 text-text-primary",children:"Description *"}),(0,a.jsx)("textarea",{...er("description",{required:"Description is required"}),rows:6,className:"input-elegant w-full",placeholder:"Detailed property description..."}),en.description&&(0,a.jsx)("p",{className:"text-error text-sm mt-1",children:en.description.message})]})]})]}),(0,a.jsx)(N.M,{children:ek&&(0,a.jsxs)(w.E.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"card-luxury p-6 overflow-hidden",children:[(0,a.jsx)("h2",{className:"text-2xl font-display font-bold mb-4 text-accent-primary",children:"Residential Details"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-semibold mb-2 text-text-primary",children:"BHK"}),(0,a.jsxs)("select",{...er("bhk"),className:"input-elegant w-full",children:[(0,a.jsx)("option",{value:"",children:"Select"}),Z.map(e=>(0,a.jsx)("option",{value:e,children:e},e))]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-semibold mb-2 text-text-primary",children:"Bathrooms"}),(0,a.jsx)("input",{type:"number",min:"1",max:"10",...er("bathrooms",{valueAsNumber:!0}),className:"input-elegant w-full",placeholder:"2"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-semibold mb-2 text-text-primary",children:"Furnishing"}),(0,a.jsxs)("select",{...er("furnishing"),className:"input-elegant w-full",children:[(0,a.jsx)("option",{value:"",children:"Select"}),(0,a.jsx)("option",{value:"Furnished",children:"Furnished"}),(0,a.jsx)("option",{value:"Semi-Furnished",children:"Semi-Furnished"}),(0,a.jsx)("option",{value:"Unfurnished",children:"Unfurnished"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-semibold mb-2 text-text-primary",children:"Available From"}),(0,a.jsxs)("select",{...er("availableFrom"),className:"input-elegant w-full",children:[(0,a.jsx)("option",{value:"",children:"Select"}),F.map(e=>(0,a.jsx)("option",{value:e,children:e},e))]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-semibold mb-2 text-text-primary",children:"Available For"}),(0,a.jsxs)("select",{...er("availableFor"),className:"input-elegant w-full",children:[(0,a.jsx)("option",{value:"",children:"Select"}),R.map(e=>(0,a.jsx)("option",{value:e,children:e},e))]})]})]})]})}),(0,a.jsx)(N.M,{children:"Commercial"===em&&(0,a.jsxs)(w.E.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"card-luxury p-6 overflow-hidden",children:[(0,a.jsx)("h2",{className:"text-2xl font-display font-bold mb-4 text-accent-primary",children:"Commercial Details"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-semibold mb-2 text-text-primary",children:"Construction Status"}),(0,a.jsxs)("select",{...er("constructionStatus"),className:"input-elegant w-full",children:[(0,a.jsx)("option",{value:"",children:"Select"}),A.map(e=>(0,a.jsx)("option",{value:e,children:e},e))]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-semibold mb-2 text-text-primary",children:"Investment Type"}),(0,a.jsxs)("select",{...er("investmentType"),className:"input-elegant w-full",children:[(0,a.jsx)("option",{value:"",children:"Select"}),C.map(e=>(0,a.jsx)("option",{value:e,children:e},e))]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-semibold mb-2 text-text-primary",children:"Power Capacity"}),(0,a.jsx)("input",{type:"text",...er("powerCapacity"),className:"input-elegant w-full",placeholder:"e.g., 50 kW, 100 kVA"})]})]})]})}),(0,a.jsx)(N.M,{children:eN&&(0,a.jsxs)(w.E.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"card-luxury p-6 overflow-hidden",children:[(0,a.jsx)("h2",{className:"text-2xl font-display font-bold mb-4 text-accent-primary",children:"Office Specifications"}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-semibold mb-2 text-text-primary",children:"Key Specs"}),(0,a.jsxs)("div",{className:"flex flex-wrap gap-4",children:[(0,a.jsxs)("label",{className:"flex items-center space-x-2",children:[(0,a.jsx)("input",{type:"checkbox",...er("meetingRooms"),className:"w-4 h-4 text-accent-primary bg-surface border-border rounded focus:ring-2 focus:ring-accent-primary"}),(0,a.jsx)("span",{className:"text-sm text-text-primary",children:"Meeting Room"})]}),(0,a.jsxs)("label",{className:"flex items-center space-x-2",children:[(0,a.jsx)("input",{type:"checkbox",...er("pantry"),className:"w-4 h-4 text-accent-primary bg-surface border-border rounded focus:ring-2 focus:ring-accent-primary"}),(0,a.jsx)("span",{className:"text-sm text-text-primary",children:"Pantry"})]}),(0,a.jsxs)("label",{className:"flex items-center space-x-2",children:[(0,a.jsx)("input",{type:"checkbox",...er("conferenceRoom"),className:"w-4 h-4 text-accent-primary bg-surface border-border rounded focus:ring-2 focus:ring-accent-primary"}),(0,a.jsx)("span",{className:"text-sm text-text-primary",children:"Conference Room"})]})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-semibold mb-2 text-text-primary",children:"Cabins"}),(0,a.jsx)("input",{type:"number",min:"1",max:"10",...er("cabins",{valueAsNumber:!0}),className:"input-elegant w-full",placeholder:"1-5+"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-semibold mb-2 text-text-primary",children:"Washrooms"}),(0,a.jsx)("input",{type:"number",min:"1",max:"10",...er("bathrooms",{valueAsNumber:!0}),className:"input-elegant w-full",placeholder:"1-5+"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-semibold mb-2 text-text-primary",children:"Parking"}),(0,a.jsxs)("select",{...er("parking"),className:"input-elegant w-full",children:[(0,a.jsx)("option",{value:"",children:"Select"}),(0,a.jsx)("option",{value:"Yes",children:"Yes"}),(0,a.jsx)("option",{value:"No",children:"No"})]})]})]})]})]})}),(0,a.jsx)(N.M,{children:ew&&(0,a.jsxs)(w.E.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"card-luxury p-6 overflow-hidden",children:[(0,a.jsx)("h2",{className:"text-2xl font-display font-bold mb-4 text-accent-primary",children:"Shop & Retail Details"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-semibold mb-2 text-text-primary",children:"Situated In"}),(0,a.jsxs)("select",{...er("situatedIn"),className:"input-elegant w-full",children:[(0,a.jsx)("option",{value:"",children:"Select"}),(0,a.jsx)("option",{value:"Market",children:"Market"}),(0,a.jsx)("option",{value:"Retail Complex",children:"Retail Complex"}),(0,a.jsx)("option",{value:"Mall",children:"Mall"}),(0,a.jsx)("option",{value:"Residential/Commercial Project",children:"Residential/Commercial Project"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-semibold mb-2 text-text-primary",children:"Business Type"}),(0,a.jsx)("input",{type:"text",...er("businessType"),className:"input-elegant w-full",placeholder:"e.g., Clothes, Grocery, Clinic, Bakery, Restaurant"})]})]})]})}),(0,a.jsxs)("div",{className:"card-luxury p-6",children:[(0,a.jsx)("h2",{className:"text-2xl font-display font-bold mb-4 text-accent-primary",children:"Pricing & Area"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-semibold mb-2 text-text-primary",children:"Price (₹) *"}),(0,a.jsx)("input",{type:"number",min:"0",step:"0.01",...er("price",{required:"Price is required",valueAsNumber:!0,min:{value:0,message:"Price must be greater than 0"}}),className:"input-elegant w-full",placeholder:"5000000"}),en.price&&(0,a.jsx)("p",{className:"text-error text-sm mt-1",children:en.price.message})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-semibold mb-2 text-text-primary",children:"Area *"}),(0,a.jsx)("input",{type:"number",min:"0",step:"any",...er("area",{required:"Area is required",valueAsNumber:!0,min:{value:0,message:"Area must be greater than 0"}}),className:"input-elegant w-full",placeholder:"1200"}),en.area&&(0,a.jsx)("p",{className:"text-error text-sm mt-1",children:en.area.message})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-semibold mb-2 text-text-primary",children:"Area Unit *"}),(0,a.jsx)("select",{...er("areaUnit",{required:"Area unit is required"}),className:"input-elegant w-full",children:S.map(e=>(0,a.jsx)("option",{value:e,children:e},e))})]})]})]}),(0,a.jsxs)("div",{className:"card-luxury p-6",children:[(0,a.jsx)("h2",{className:"text-2xl font-display font-bold mb-4 text-accent-primary",children:"Location"}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-semibold mb-2 text-text-primary",children:"City *"}),(0,a.jsx)("input",{type:"text",...er("city",{required:"City is required"}),className:"input-elegant w-full",placeholder:"Mumbai"}),en.city&&(0,a.jsx)("p",{className:"text-error text-sm mt-1",children:en.city.message})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-semibold mb-2 text-text-primary",children:"State"}),(0,a.jsx)("input",{type:"text",...er("state"),className:"input-elegant w-full",placeholder:"Maharashtra"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-semibold mb-2 text-text-primary",children:"Locality"}),(0,a.jsx)("input",{type:"text",...er("locality"),className:"input-elegant w-full",placeholder:"Downtown"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-semibold mb-2 text-text-primary",children:"Address"}),(0,a.jsx)("input",{type:"text",...er("address"),className:"input-elegant w-full",placeholder:"123 Main Street"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-semibold mb-2 text-text-primary",children:"Pincode"}),(0,a.jsx)("input",{type:"text",...er("pincode"),className:"input-elegant w-full",placeholder:"400001"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-semibold mb-2 text-text-primary",children:"Latitude"}),(0,a.jsx)("input",{type:"number",step:"any",...er("latitude",{valueAsNumber:!0}),className:"input-elegant w-full",placeholder:"19.0760"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-semibold mb-2 text-text-primary",children:"Longitude"}),(0,a.jsx)("input",{type:"number",step:"any",...er("longitude",{valueAsNumber:!0}),className:"input-elegant w-full",placeholder:"72.8777"})]})]})]})]}),(0,a.jsxs)("div",{className:"card-luxury p-6",children:[(0,a.jsx)("h2",{className:"text-2xl font-display font-bold mb-4 text-accent-primary",children:"Additional Details"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-semibold mb-2 text-text-primary",children:"Possession Status"}),(0,a.jsx)("input",{type:"text",...er("possessionStatus"),className:"input-elegant w-full",placeholder:"Ready to Move"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-semibold mb-2 text-text-primary",children:"Age of Property"}),(0,a.jsxs)("select",{...er("ageOfProperty"),className:"input-elegant w-full",children:[(0,a.jsx)("option",{value:"",children:"Select"}),M.map(e=>(0,a.jsx)("option",{value:e,children:e},e))]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-semibold mb-2 text-text-primary",children:"Facing"}),(0,a.jsxs)("select",{...er("facing"),className:"input-elegant w-full",children:[(0,a.jsx)("option",{value:"",children:"Select"}),(0,a.jsx)("option",{value:"North",children:"North"}),(0,a.jsx)("option",{value:"South",children:"South"}),(0,a.jsx)("option",{value:"East",children:"East"}),(0,a.jsx)("option",{value:"West",children:"West"}),(0,a.jsx)("option",{value:"North-East",children:"North-East"}),(0,a.jsx)("option",{value:"North-West",children:"North-West"}),(0,a.jsx)("option",{value:"South-East",children:"South-East"}),(0,a.jsx)("option",{value:"South-West",children:"South-West"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-semibold mb-2 text-text-primary",children:"Parking"}),(0,a.jsx)("input",{type:"text",...er("parking"),className:"input-elegant w-full",placeholder:"2"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-semibold mb-2 text-text-primary",children:"Total Floors"}),(0,a.jsx)("input",{type:"number",min:"1",...er("totalFloors",{valueAsNumber:!0}),className:"input-elegant w-full",placeholder:"10"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-semibold mb-2 text-text-primary",children:"Floor Number"}),(0,a.jsx)("input",{type:"number",min:"0",...er("floorNumber",{valueAsNumber:!0}),className:"input-elegant w-full",placeholder:"5"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-semibold mb-2 text-text-primary",children:"Floor Preference"}),(0,a.jsxs)("select",{...er("floorPreference"),className:"input-elegant w-full",children:[(0,a.jsx)("option",{value:"",children:"Select"}),E.map(e=>(0,a.jsx)("option",{value:e,children:e},e))]})]})]})]}),(0,a.jsxs)("div",{className:"card-luxury p-6",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,a.jsx)("h2",{className:"text-2xl font-display font-bold text-accent-primary",children:"Amenities"}),(0,a.jsxs)("button",{type:"button",onClick:()=>ei(!ea),className:"btn-secondary flex items-center gap-2",children:[(0,a.jsx)(x.Z,{size:18}),"Add Custom"]})]}),ea&&(0,a.jsx)("div",{className:"mb-4 p-4 bg-surface-muted rounded-lg border border-border",children:(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)("input",{type:"text",value:et,onChange:e=>es(e.target.value),placeholder:"Enter amenity name (e.g., Rooftop Garden)",className:"input-elegant flex-1",onKeyPress:e=>{"Enter"===e.key&&ej()}}),(0,a.jsx)("button",{type:"button",onClick:ej,disabled:L.isPending||!et.trim(),className:"btn-primary",children:L.isPending?(0,a.jsx)(h.Z,{className:"animate-spin",size:18}):"Add"}),(0,a.jsx)("button",{type:"button",onClick:()=>{ei(!1),es("")},className:"btn-secondary",children:"Cancel"})]})}),y?(0,a.jsx)("div",{className:"flex justify-center py-8",children:(0,a.jsx)(h.Z,{className:"animate-spin text-accent-primary",size:24})}):(0,a.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3",children:q.filter(e=>{let t=e.name||e;return ev().includes(t)}).map(e=>{var t;let s=e.name||e,i=(null===(t=eo("amenities"))||void 0===t?void 0:t.includes(s))||!1;return(0,a.jsxs)("div",{className:"flex items-center justify-between gap-2 p-2 rounded-lg hover:bg-surface-muted transition-colors",children:[(0,a.jsxs)("label",{className:"flex items-center space-x-2 flex-1 cursor-pointer",children:[(0,a.jsx)("input",{type:"checkbox",checked:i,onChange:e=>{let t=eo("amenities")||[];e.target.checked?ec("amenities",[...t,s]):ec("amenities",t.filter(e=>e!==s))},className:"w-4 h-4 text-accent-primary bg-surface border-border rounded focus:ring-2 focus:ring-accent-primary"}),(0,a.jsx)("span",{className:"text-sm text-text-primary",children:s})]}),e.id&&(0,a.jsx)("button",{type:"button",onClick:()=>{confirm('Are you sure you want to delete "'.concat(s,'"? This will remove it from all properties.'))&&U.mutate(e.id)},disabled:U.isPending,className:"text-error hover:text-error/80 transition-colors p-1 hover:bg-error/10 rounded",title:"Delete amenity",children:(0,a.jsx)(f.Z,{size:14})})]},e.id||s)})}),eo("amenities")&&eo("amenities").length>0&&(0,a.jsxs)("div",{className:"mt-4 pt-4 border-t border-border",children:[(0,a.jsx)("h3",{className:"text-sm font-semibold text-text-primary mb-3",children:"Selected Amenities"}),(0,a.jsx)("div",{className:"flex flex-wrap gap-2",children:eo("amenities").map(e=>{let t=!ev().includes(e);return(0,a.jsxs)("div",{className:"flex items-center gap-2 rounded-full px-3 py-1.5 text-sm ".concat(t?"bg-accent-primary/10 border border-accent-primary/30":"bg-surface-muted border border-border"),children:[(0,a.jsx)("span",{className:"text-text-primary",children:e}),t&&(0,a.jsx)("span",{className:"text-xs text-text-secondary",children:"(Custom)"}),(0,a.jsx)("button",{type:"button",onClick:()=>{ec("amenities",(eo("amenities")||[]).filter(t=>t!==e))},className:"text-text-secondary hover:text-error transition-colors ml-1",title:"Remove from selection",children:(0,a.jsx)(f.Z,{size:14})})]},e)})})]})]}),(0,a.jsxs)("div",{className:"card-luxury p-6",children:[(0,a.jsx)("h2",{className:"text-2xl font-display font-bold mb-4 text-accent-primary",children:"Features"}),(0,a.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:["RERA Approved","Ready to Move","Vaastu Compliant","Corner Property","Main Road Facing","Premium Location","Green Building","Smart Home","Pet Friendly"].map(e=>{var t;return(0,a.jsxs)("label",{className:"flex items-center space-x-2",children:[(0,a.jsx)("input",{type:"checkbox",checked:(null===(t=eo("features"))||void 0===t?void 0:t.includes(e))||!1,onChange:t=>{let s=eo("features")||[];t.target.checked?ec("features",[...s,e]):ec("features",s.filter(t=>t!==e))},className:"w-4 h-4 text-accent-primary bg-surface border-border rounded focus:ring-2 focus:ring-accent-primary"}),(0,a.jsx)("span",{className:"text-sm text-text-primary",children:e})]},e)})})]}),(0,a.jsxs)("div",{className:"card-luxury p-6",children:[(0,a.jsx)("h2",{className:"text-2xl font-display font-bold mb-4 text-accent-primary",children:"RERA Information"}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("div",{children:(0,a.jsxs)("label",{className:"flex items-center space-x-2",children:[(0,a.jsx)("input",{type:"checkbox",...er("reraApproved"),className:"w-4 h-4 text-accent-primary bg-surface border-border rounded focus:ring-2 focus:ring-accent-primary"}),(0,a.jsx)("span",{className:"text-sm font-semibold text-text-primary",children:"RERA Approved"})]})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-semibold mb-2 text-text-primary",children:"RERA Number"}),(0,a.jsx)("input",{type:"text",...er("reraNumber"),className:"input-elegant w-full",placeholder:"RERA/123/2024"})]})]})]}),(0,a.jsxs)("div",{className:"card-luxury p-6",children:[(0,a.jsx)("h2",{className:"text-2xl font-display font-bold mb-4 text-accent-primary",children:"Media Upload"}),K&&(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsx)("div",{className:"w-full bg-surface-muted rounded-full h-2.5",children:(0,a.jsx)("div",{className:"bg-gradient-primary h-2.5 rounded-full transition-all duration-300",style:{width:"".concat(V,"%")}})}),(0,a.jsxs)("p",{className:"text-text-secondary text-sm mt-2",children:["Uploading... ",Math.round(V),"%"]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-semibold mb-2 text-text-primary",children:"Upload Images"}),(0,a.jsx)("input",{type:"file",accept:"image/*",multiple:!0,onChange:e=>e.target.files&&ey(e.target.files,"image"),disabled:K,className:"input-elegant w-full"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-semibold mb-2 text-text-primary",children:"Upload Videos"}),(0,a.jsx)("input",{type:"file",accept:"video/*",multiple:!0,onChange:e=>e.target.files&&ey(e.target.files,"video"),disabled:K,className:"input-elegant w-full"}),(0,a.jsx)("p",{className:"text-xs text-text-secondary mt-1",children:"Max 100MB per video (ImageKit limit). For larger files, compress before uploading."})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-semibold mb-2 text-text-primary",children:"Upload Floor Plan"}),(0,a.jsx)("input",{type:"file",accept:"image/*,.pdf",onChange:e=>e.target.files&&ey(e.target.files,"floorPlan"),disabled:K,className:"input-elegant w-full"})]})]}),W.length>0&&(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-accent-primary",children:"Media Preview"}),(0,a.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:W.map((e,t)=>(0,a.jsxs)("div",{className:"relative group",children:["image"===e.type||"floorPlan"===e.type?(0,a.jsx)("img",{src:e.url,alt:"Media ".concat(t+1),className:"w-full h-32 object-cover rounded-lg shadow-soft"}):(0,a.jsxs)("div",{className:"relative w-full h-32 bg-surface-muted rounded-lg overflow-hidden shadow-soft",children:[(0,a.jsx)("video",{src:e.url,className:"w-full h-full object-cover",muted:!0,preload:"metadata"}),(0,a.jsx)("div",{className:"absolute inset-0 flex items-center justify-center bg-black/30",children:(0,a.jsx)("div",{className:"w-12 h-12 rounded-full bg-white/90 flex items-center justify-center",children:(0,a.jsx)("span",{className:"text-2xl text-accent-primary",children:"▶"})})})]}),(0,a.jsxs)("div",{className:"absolute top-2 right-2 flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[t>0&&(0,a.jsx)("button",{type:"button",onClick:()=>eg(t,"up"),className:"bg-accent-primary text-white p-1 rounded shadow-soft hover:shadow-medium transition-all",children:(0,a.jsx)(b,{size:16})}),t<W.length-1&&(0,a.jsx)("button",{type:"button",onClick:()=>eg(t,"down"),className:"bg-accent-primary text-white p-1 rounded shadow-soft hover:shadow-medium transition-all",children:(0,a.jsx)(g,{size:16})}),(0,a.jsx)("button",{type:"button",onClick:()=>eb(t),className:"bg-error text-white p-1 rounded shadow-soft hover:shadow-medium transition-all",children:(0,a.jsx)(f.Z,{size:16})})]}),(0,a.jsx)("div",{className:"absolute bottom-2 left-2 bg-white/90 backdrop-blur-sm text-text-primary text-xs px-2 py-1 rounded shadow-soft",children:e.type})]},t))}),W.filter(e=>"image"===e.type).length<3&&(0,a.jsx)("p",{className:"text-warning text-sm",children:"⚠️ At least 3 images are recommended"})]})]}),(0,a.jsxs)("div",{className:"flex gap-4",children:[(0,a.jsx)("button",{type:"submit",disabled:eh.isPending,className:"btn-primary flex-1",children:eh.isPending?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(h.Z,{className:"animate-spin mr-2",size:20}),"Publishing..."]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(v.Z,{className:"mr-2",size:20}),"Publish Property"]})}),(0,a.jsx)("button",{type:"button",onClick:el(e=>{let t=ex(e);ef.mutate({title:e.title||"Untitled Property",payload:t})}),disabled:ef.isPending,className:"btn-secondary",children:ef.isPending?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(h.Z,{className:"animate-spin mr-2",size:20}),"Saving..."]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(j.Z,{className:"mr-2",size:20}),"Save Draft"]})}),(0,a.jsx)(p.default,{href:"/admin/properties",className:"btn-secondary",children:"Cancel"})]})]})]})}):null}},71837:function(e,t,s){"use strict";s.d(t,{A7:function(){return x},Nq:function(){return d},Sf:function(){return n},WA:function(){return h},XF:function(){return u},YE:function(){return c},fn:function(){return o},iJ:function(){return l},pJ:function(){return m},vt:function(){return p}});var a=s(83464);let i=s(40257).env.NEXT_PUBLIC_API_URL||"http://localhost:5000/api",r=a.Z.create({baseURL:i,headers:{"Content-Type":"application/json"},timeout:1e4,withCredentials:!1});r.interceptors.request.use(e=>{{let t=localStorage.getItem("token");t&&(e.headers.Authorization="Bearer ".concat(t))}return e}),r.interceptors.response.use(e=>e,e=>{var t,s;if((null===(t=e.response)||void 0===t?void 0:t.status)===401){let t=window.location.pathname;if("/"===t||"/properties"===t||t.startsWith("/properties/")||"/login"===t||"/register"===t)return localStorage.removeItem("token"),localStorage.removeItem("auth-storage"),window.dispatchEvent(new Event("storage")),Promise.reject(e);let a=(null===(s=e.config)||void 0===s?void 0:s.url)||"";(a.includes("/auth/")||a.includes("/wishlist")||a.includes("/admin")||a.includes("/profile"))&&(localStorage.removeItem("token"),localStorage.removeItem("auth-storage"),window.dispatchEvent(new Event("storage")),t.includes("/login")||(window.location.href="/login"))}return Promise.reject(e)});let l={register:e=>r.post("/auth/register",e),login:e=>r.post("/auth/login",e),getProfile:()=>r.get("/auth/profile"),updateProfile:e=>r.put("/auth/profile",e),verifyToken:()=>r.get("/auth/verify")},n={getAll:e=>{let t={};return(null==e?void 0:e.page)&&(t.page=e.page),(null==e?void 0:e.limit)&&(t.limit=e.limit),(null==e?void 0:e.status)&&(t.status=e.status),(null==e?void 0:e.search)&&(t.search=e.search),(null==e?void 0:e.category)&&(t.category=e.category),(null==e?void 0:e.purpose)&&(t.purpose=e.purpose),(null==e?void 0:e.subtype)&&(t.subtype=e.subtype),(null==e?void 0:e.minPrice)&&(t.minPrice=e.minPrice),(null==e?void 0:e.maxPrice)&&(t.maxPrice=e.maxPrice),(null==e?void 0:e.minArea)&&(t.minArea=e.minArea),(null==e?void 0:e.maxArea)&&(t.maxArea=e.maxArea),(null==e?void 0:e.bhk)&&(t.bhk=e.bhk),(null==e?void 0:e.bathrooms)&&(t.bathrooms=e.bathrooms),(null==e?void 0:e.furnishing)&&(t.furnishing=e.furnishing),(null==e?void 0:e.availableFor)&&e.availableFor.length>0&&(t.availableFor=e.availableFor),(null==e?void 0:e.availableFrom)&&(t.availableFrom=e.availableFrom),(null==e?void 0:e.constructionStatus)&&(t.constructionStatus=e.constructionStatus),(null==e?void 0:e.investmentType)&&e.investmentType.length>0&&(t.investmentType=e.investmentType),(null==e?void 0:e.powerCapacity)&&(t.powerCapacity=e.powerCapacity),(null==e?void 0:e.meetingRooms)!==void 0&&(t.meetingRooms=e.meetingRooms),(null==e?void 0:e.pantry)!==void 0&&(t.pantry=e.pantry),(null==e?void 0:e.conferenceRoom)!==void 0&&(t.conferenceRoom=e.conferenceRoom),(null==e?void 0:e.cabins)&&(t.cabins=e.cabins),(null==e?void 0:e.washrooms)&&(t.washrooms=e.washrooms),(null==e?void 0:e.floorPreference)&&(t.floorPreference=e.floorPreference),(null==e?void 0:e.locatedOn)&&(t.locatedOn=e.locatedOn),(null==e?void 0:e.officeSpread)&&(t.officeSpread=e.officeSpread),(null==e?void 0:e.situatedIn)&&(t.situatedIn=e.situatedIn),(null==e?void 0:e.businessType)&&e.businessType.length>0&&(t.businessType=e.businessType),(null==e?void 0:e.city)&&(t.city=e.city),(null==e?void 0:e.state)&&(t.state=e.state),(null==e?void 0:e.locality)&&(t.locality=e.locality),(null==e?void 0:e.amenities)&&e.amenities.length>0&&(t.amenities=e.amenities),(null==e?void 0:e.reraApproved)!==void 0&&(t.reraApproved=e.reraApproved),(null==e?void 0:e.ageOfProperty)&&(t.ageOfProperty=e.ageOfProperty),(null==e?void 0:e.possessionStatus)&&(t.possessionStatus=e.possessionStatus),(null==e?void 0:e.facing)&&(t.facing=e.facing),(null==e?void 0:e.parking)&&(t.parking=e.parking),(null==e?void 0:e.sortBy)&&(t.sortBy=e.sortBy),r.get("/properties",{params:t})},getById:e=>r.get("/properties/".concat(e)),create:e=>r.post("/properties",e),update:(e,t)=>r.put("/properties/".concat(e),t),delete:e=>r.delete("/properties/".concat(e)),search:e=>n.getAll({...e,page:e.page,limit:e.limit}),getSimilar:(e,t)=>r.get("/properties/".concat(e,"/similar"),{params:{limit:t}})},o={create:e=>r.post("/leads",e),getAll:e=>r.get("/leads",{params:e}),getById:e=>r.get("/leads/".concat(e)),updateStatus:(e,t)=>r.put("/leads/".concat(e,"/status"),{status:t}),delete:e=>r.delete("/leads/".concat(e)),exportCSV:()=>r.get("/leads/export/csv",{responseType:"blob"})},c={getAll:()=>r.get("/wishlist"),add:e=>r.post("/wishlist",{property_id:e}),remove:e=>r.delete("/wishlist/".concat(e))},d={getDashboard:()=>r.get("/admin/dashboard"),getUsers:e=>r.get("/admin/users",{params:e}),updateUserStatus:(e,t)=>r.put("/admin/users/".concat(e,"/status"),{is_active:t}),updateUserRole:(e,t)=>r.put("/admin/users/".concat(e,"/role"),{role:t}),deleteUser:e=>r.delete("/admin/users/".concat(e)),getAnalytics:e=>r.get("/admin/analytics",{params:e}),getSettings:()=>r.get("/admin/settings"),updateSettings:e=>r.put("/admin/settings",e)},m={getPublicSettings:()=>r.get("/admin/settings/public")},u={upload:e=>{let t=new FormData;t.append("file",e);let s=e.type.startsWith("video/");return r.post("/media/upload",t,{headers:{"Content-Type":"multipart/form-data"},timeout:s?6e5:3e4,onUploadProgress:e=>{e.total&&(e.loaded,e.total)}})},uploadMultiple:e=>{let t=new FormData;e.forEach(e=>t.append("files",e));let s=e.some(e=>e.type.startsWith("video/"));return r.post("/media/upload/multiple",t,{headers:{"Content-Type":"multipart/form-data"},timeout:s?6e5:3e4})}},p={search:e=>r.get("/locations",{params:{query:e}})},x={getAll:()=>r.get("/drafts"),create:e=>r.post("/drafts",e),update:(e,t)=>r.put("/drafts/".concat(e),t),delete:e=>r.delete("/drafts/".concat(e))},h={getAll:()=>r.get("/amenities"),create:e=>r.post("/amenities",e),update:(e,t)=>r.put("/amenities/".concat(e),t),delete:e=>r.delete("/amenities/".concat(e))}},1217:function(e,t,s){"use strict";s.d(t,{t:function(){return r}});var a=s(59625),i=s(89134);let r=(0,a.Ue)()((0,i.tJ)(e=>({user:null,token:null,isAuthenticated:!1,setAuth:(t,s)=>{localStorage.setItem("token",s),e({user:t,token:s,isAuthenticated:!0})},clearAuth:()=>{localStorage.removeItem("token"),e({user:null,token:null,isAuthenticated:!1})},updateUser:t=>e(e=>({user:e.user?{...e.user,...t}:null}))}),{name:"auth-storage",partialize:e=>({user:e.user,token:e.token,isAuthenticated:e.isAuthenticated})}))},48614:function(e,t,s){"use strict";s.d(t,{M:function(){return y}});var a=s(57437),i=s(2265),r=s(58881),l=s(53576),n=s(64252),o=s(45750);class c extends i.Component{getSnapshotBeforeUpdate(e){let t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){let e=this.props.sizeRef.current;e.height=t.offsetHeight||0,e.width=t.offsetWidth||0,e.top=t.offsetTop,e.left=t.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function d(e){let{children:t,isPresent:s}=e,r=(0,i.useId)(),l=(0,i.useRef)(null),n=(0,i.useRef)({width:0,height:0,top:0,left:0}),{nonce:d}=(0,i.useContext)(o._);return(0,i.useInsertionEffect)(()=>{let{width:e,height:t,top:a,left:i}=n.current;if(s||!l.current||!e||!t)return;l.current.dataset.motionPopId=r;let o=document.createElement("style");return d&&(o.nonce=d),document.head.appendChild(o),o.sheet&&o.sheet.insertRule('\n          [data-motion-pop-id="'.concat(r,'"] {\n            position: absolute !important;\n            width: ').concat(e,"px !important;\n            height: ").concat(t,"px !important;\n            top: ").concat(a,"px !important;\n            left: ").concat(i,"px !important;\n          }\n        ")),()=>{document.head.removeChild(o)}},[s]),(0,a.jsx)(c,{isPresent:s,childRef:l,sizeRef:n,children:i.cloneElement(t,{ref:l})})}let m=e=>{let{children:t,initial:s,isPresent:r,onExitComplete:o,custom:c,presenceAffectsLayout:m,mode:p}=e,x=(0,l.h)(u),h=(0,i.useId)(),f=(0,i.useCallback)(e=>{for(let t of(x.set(e,!0),x.values()))if(!t)return;o&&o()},[x,o]),y=(0,i.useMemo)(()=>({id:h,initial:s,isPresent:r,custom:c,onExitComplete:f,register:e=>(x.set(e,!1),()=>x.delete(e))}),m?[Math.random(),f]:[r,f]);return(0,i.useMemo)(()=>{x.forEach((e,t)=>x.set(t,!1))},[r]),i.useEffect(()=>{r||x.size||!o||o()},[r]),"popLayout"===p&&(t=(0,a.jsx)(d,{isPresent:r,children:t})),(0,a.jsx)(n.O.Provider,{value:y,children:t})};function u(){return new Map}var p=s(49637);let x=e=>e.key||"";function h(e){let t=[];return i.Children.forEach(e,e=>{(0,i.isValidElement)(e)&&t.push(e)}),t}var f=s(11534);let y=e=>{let{children:t,custom:s,initial:n=!0,onExitComplete:o,presenceAffectsLayout:c=!0,mode:d="sync",propagate:u=!1}=e,[y,b]=(0,p.oO)(u),g=(0,i.useMemo)(()=>h(t),[t]),v=u&&!y?[]:g.map(x),j=(0,i.useRef)(!0),N=(0,i.useRef)(g),w=(0,l.h)(()=>new Map),[k,P]=(0,i.useState)(g),[S,A]=(0,i.useState)(g);(0,f.L)(()=>{j.current=!1,N.current=g;for(let e=0;e<S.length;e++){let t=x(S[e]);v.includes(t)?w.delete(t):!0!==w.get(t)&&w.set(t,!1)}},[S,v.length,v.join("-")]);let C=[];if(g!==k){let e=[...g];for(let t=0;t<S.length;t++){let s=S[t],a=x(s);v.includes(a)||(e.splice(t,0,s),C.push(s))}"wait"===d&&C.length&&(e=C),A(h(e)),P(g);return}let{forceRender:F}=(0,i.useContext)(r.p);return(0,a.jsx)(a.Fragment,{children:S.map(e=>{let t=x(e),i=(!u||!!y)&&(g===S||v.includes(t));return(0,a.jsx)(m,{isPresent:i,initial:(!j.current||!!n)&&void 0,custom:i?void 0:s,presenceAffectsLayout:c,mode:d,onExitComplete:i?void 0:()=>{if(!w.has(t))return;w.set(t,!0);let e=!0;w.forEach(t=>{t||(e=!1)}),e&&(null==F||F(),A(N.current),u&&(null==b||b()),o&&o())},children:e},t)})})}}},function(e){e.O(0,[655,972,230,713,883,64,48,971,117,744],function(){return e(e.s=1980)}),_N_E=e.O()}]);