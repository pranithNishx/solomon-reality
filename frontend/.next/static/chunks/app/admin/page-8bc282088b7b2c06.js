(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3],{33172:function(e,t,i){Promise.resolve().then(i.bind(i,96598))},42208:function(e,t,i){"use strict";i.d(t,{Z:function(){return a}});let a=(0,i(39763).Z)("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},99637:function(e,t,i){"use strict";i.d(t,{Z:function(){return a}});let a=(0,i(39763).Z)("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]])},15863:function(e,t,i){"use strict";i.d(t,{Z:function(){return a}});let a=(0,i(39763).Z)("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},89345:function(e,t,i){"use strict";i.d(t,{Z:function(){return a}});let a=(0,i(39763).Z)("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]])},70525:function(e,t,i){"use strict";i.d(t,{Z:function(){return a}});let a=(0,i(39763).Z)("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]])},95805:function(e,t,i){"use strict";i.d(t,{Z:function(){return a}});let a=(0,i(39763).Z)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]])},27648:function(e,t,i){"use strict";i.d(t,{default:function(){return n.a}});var a=i(72972),n=i.n(a)},99376:function(e,t,i){"use strict";var a=i(35475);i.o(a,"useParams")&&i.d(t,{useParams:function(){return a.useParams}}),i.o(a,"usePathname")&&i.d(t,{usePathname:function(){return a.usePathname}}),i.o(a,"useRouter")&&i.d(t,{useRouter:function(){return a.useRouter}}),i.o(a,"useSearchParams")&&i.d(t,{useSearchParams:function(){return a.useSearchParams}})},96598:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return y}});var a=i(57437),n=i(2265),s=i(99376),o=i(27648),r=i(11713),l=i(71837),c=i(1217),d=i(40521),u=i(99637),p=i(89345),m=i(95805),v=i(42208),g=i(70525);function h(e){let{stats:t}=e,i=[{title:"Total Properties",value:t.totalProperties,icon:u.Z,color:"bg-accent-primary",change:"+12%",trend:"up"},{title:"Active Properties",value:t.activeProperties,icon:u.Z,color:"bg-success",change:"+5%",trend:"up"},{title:"Total Leads",value:t.totalLeads,icon:p.Z,color:"bg-warning",change:"+23%",trend:"up"},{title:"New Leads",value:t.newLeads,icon:p.Z,color:"bg-error",change:"+8%",trend:"up"},{title:"Total Users",value:t.totalUsers,icon:m.Z,color:"bg-accent-secondary",change:"+15%",trend:"up"},{title:"Total Views",value:t.totalViews,icon:v.Z,color:"bg-accent-primary",change:"+32%",trend:"up"}];return(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:i.map((e,t)=>{var i;return(0,a.jsx)(d.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1*t},children:(0,a.jsxs)("div",{className:"card-luxury p-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsx)("div",{className:"".concat(e.color," w-12 h-12 rounded-lg flex items-center justify-center"),children:(0,a.jsx)(e.icon,{className:"text-white",size:24})}),e.change&&(0,a.jsxs)("div",{className:"flex items-center gap-1 text-sm font-semibold ".concat("up"===e.trend?"text-success":"text-error"),children:[(0,a.jsx)(g.Z,{size:16}),e.change]})]}),(0,a.jsx)("h3",{className:"text-2xl font-bold text-text-primary mb-1",children:(null!==(i=e.value)&&void 0!==i?i:0).toLocaleString()}),(0,a.jsx)("p",{className:"text-text-secondary text-sm",children:e.title})]})},e.title)})})}var f=i(15863);function y(){var e,t,i,v,y,x,b,w,k,P,j,A,N,S;let Z=(0,s.useRouter)(),{isAuthenticated:T,user:U}=(0,c.t)();(0,n.useEffect)(()=>{T&&(null==U?void 0:U.role)==="admin"||Z.push("/")},[T,U,Z]);let{data:E,isLoading:L}=(0,r.a)({queryKey:["admin-dashboard"],queryFn:async()=>(await l.Nq.getDashboard()).data,enabled:T&&(null==U?void 0:U.role)==="admin"});if(L)return(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,a.jsx)(f.Z,{className:"animate-spin text-accent-primary",size:32})});let I={totalProperties:null!==(w=null==E?void 0:null===(e=E.stats)||void 0===e?void 0:e.totalProperties)&&void 0!==w?w:0,activeProperties:null!==(k=null==E?void 0:null===(t=E.stats)||void 0===t?void 0:t.activeProperties)&&void 0!==k?k:0,totalLeads:null!==(P=null==E?void 0:null===(i=E.stats)||void 0===i?void 0:i.totalLeads)&&void 0!==P?P:0,newLeads:null!==(j=null==E?void 0:null===(v=E.stats)||void 0===v?void 0:v.newLeads)&&void 0!==j?j:0,totalUsers:null!==(A=null==E?void 0:null===(y=E.stats)||void 0===y?void 0:y.totalUsers)&&void 0!==A?A:0,totalViews:null!==(N=null==E?void 0:null===(x=E.stats)||void 0===x?void 0:x.totalViews)&&void 0!==N?N:0,conversions:null!==(S=null==E?void 0:null===(b=E.stats)||void 0===b?void 0:b.conversions)&&void 0!==S?S:0},R=[{title:"Properties",description:"Manage all properties",icon:u.Z,href:"/admin/properties",color:"bg-accent-primary"},{title:"Leads",description:"View and manage leads",icon:p.Z,href:"/admin/leads",color:"bg-success"},{title:"Users",description:"Manage users and permissions",icon:m.Z,href:"/admin/users",color:"bg-warning"},{title:"Analytics",description:"View detailed analytics",icon:g.Z,href:"/admin/analytics",color:"bg-error"}];return(0,a.jsx)("div",{className:"min-h-screen bg-gradient-soft p-6",children:(0,a.jsxs)("div",{className:"max-w-[1280px] mx-auto px-4 sm:px-6 lg:px-8",children:[(0,a.jsxs)(d.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mb-8",children:[(0,a.jsx)("h1",{className:"text-4xl font-display font-bold text-text-primary mb-2",children:"Admin Dashboard"}),(0,a.jsxs)("p",{className:"text-text-secondary",children:["Welcome back, ",(null==U?void 0:U.name)||"Admin"]})]}),(0,a.jsx)(h,{stats:I}),(0,a.jsxs)(d.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"mt-8",children:[(0,a.jsx)("h2",{className:"text-2xl font-display font-bold text-text-primary mb-6",children:"Quick Actions"}),(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:R.map((e,t)=>(0,a.jsx)(d.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3+.1*t},children:(0,a.jsx)(o.default,{href:e.href,children:(0,a.jsxs)("div",{className:"card-luxury p-4 hover:shadow-large transition-all duration-200 ease-in-out cursor-pointer group",children:[(0,a.jsx)("div",{className:"".concat(e.color," w-12 h-12 rounded-lg flex items-center justify-center mb-4 group-hover:scale-110 transition-transform"),children:(0,a.jsx)(e.icon,{className:"text-white",size:24})}),(0,a.jsx)("h3",{className:"text-xl font-semibold text-text-primary mb-2",children:e.title}),(0,a.jsx)("p",{className:"text-text-secondary text-sm",children:e.description})]})})},e.href))})]})]})})}},71837:function(e,t,i){"use strict";i.d(t,{A7:function(){return v},Nq:function(){return d},Sf:function(){return r},WA:function(){return g},XF:function(){return p},YE:function(){return c},fn:function(){return l},iJ:function(){return o},pJ:function(){return u},vt:function(){return m}});var a=i(83464);let n=i(40257).env.NEXT_PUBLIC_API_URL||"http://localhost:5000/api",s=a.Z.create({baseURL:n,headers:{"Content-Type":"application/json"},timeout:1e4,withCredentials:!1});s.interceptors.request.use(e=>{{let t=localStorage.getItem("token");t&&(e.headers.Authorization="Bearer ".concat(t))}return e}),s.interceptors.response.use(e=>e,e=>{var t,i;if((null===(t=e.response)||void 0===t?void 0:t.status)===401){let t=window.location.pathname;if("/"===t||"/properties"===t||t.startsWith("/properties/")||"/login"===t||"/register"===t)return localStorage.removeItem("token"),localStorage.removeItem("auth-storage"),window.dispatchEvent(new Event("storage")),Promise.reject(e);let a=(null===(i=e.config)||void 0===i?void 0:i.url)||"";(a.includes("/auth/")||a.includes("/wishlist")||a.includes("/admin")||a.includes("/profile"))&&(localStorage.removeItem("token"),localStorage.removeItem("auth-storage"),window.dispatchEvent(new Event("storage")),t.includes("/login")||(window.location.href="/login"))}return Promise.reject(e)});let o={register:e=>s.post("/auth/register",e),login:e=>s.post("/auth/login",e),getProfile:()=>s.get("/auth/profile"),updateProfile:e=>s.put("/auth/profile",e),verifyToken:()=>s.get("/auth/verify")},r={getAll:e=>{let t={};return(null==e?void 0:e.page)&&(t.page=e.page),(null==e?void 0:e.limit)&&(t.limit=e.limit),(null==e?void 0:e.status)&&(t.status=e.status),(null==e?void 0:e.search)&&(t.search=e.search),(null==e?void 0:e.category)&&(t.category=e.category),(null==e?void 0:e.purpose)&&(t.purpose=e.purpose),(null==e?void 0:e.subtype)&&(t.subtype=e.subtype),(null==e?void 0:e.minPrice)&&(t.minPrice=e.minPrice),(null==e?void 0:e.maxPrice)&&(t.maxPrice=e.maxPrice),(null==e?void 0:e.minArea)&&(t.minArea=e.minArea),(null==e?void 0:e.maxArea)&&(t.maxArea=e.maxArea),(null==e?void 0:e.bhk)&&(t.bhk=e.bhk),(null==e?void 0:e.bathrooms)&&(t.bathrooms=e.bathrooms),(null==e?void 0:e.furnishing)&&(t.furnishing=e.furnishing),(null==e?void 0:e.availableFor)&&e.availableFor.length>0&&(t.availableFor=e.availableFor),(null==e?void 0:e.availableFrom)&&(t.availableFrom=e.availableFrom),(null==e?void 0:e.constructionStatus)&&(t.constructionStatus=e.constructionStatus),(null==e?void 0:e.investmentType)&&e.investmentType.length>0&&(t.investmentType=e.investmentType),(null==e?void 0:e.powerCapacity)&&(t.powerCapacity=e.powerCapacity),(null==e?void 0:e.meetingRooms)!==void 0&&(t.meetingRooms=e.meetingRooms),(null==e?void 0:e.pantry)!==void 0&&(t.pantry=e.pantry),(null==e?void 0:e.conferenceRoom)!==void 0&&(t.conferenceRoom=e.conferenceRoom),(null==e?void 0:e.cabins)&&(t.cabins=e.cabins),(null==e?void 0:e.washrooms)&&(t.washrooms=e.washrooms),(null==e?void 0:e.floorPreference)&&(t.floorPreference=e.floorPreference),(null==e?void 0:e.locatedOn)&&(t.locatedOn=e.locatedOn),(null==e?void 0:e.officeSpread)&&(t.officeSpread=e.officeSpread),(null==e?void 0:e.situatedIn)&&(t.situatedIn=e.situatedIn),(null==e?void 0:e.businessType)&&e.businessType.length>0&&(t.businessType=e.businessType),(null==e?void 0:e.city)&&(t.city=e.city),(null==e?void 0:e.state)&&(t.state=e.state),(null==e?void 0:e.locality)&&(t.locality=e.locality),(null==e?void 0:e.amenities)&&e.amenities.length>0&&(t.amenities=e.amenities),(null==e?void 0:e.reraApproved)!==void 0&&(t.reraApproved=e.reraApproved),(null==e?void 0:e.ageOfProperty)&&(t.ageOfProperty=e.ageOfProperty),(null==e?void 0:e.possessionStatus)&&(t.possessionStatus=e.possessionStatus),(null==e?void 0:e.facing)&&(t.facing=e.facing),(null==e?void 0:e.parking)&&(t.parking=e.parking),(null==e?void 0:e.sortBy)&&(t.sortBy=e.sortBy),s.get("/properties",{params:t})},getById:e=>s.get("/properties/".concat(e)),create:e=>s.post("/properties",e),update:(e,t)=>s.put("/properties/".concat(e),t),delete:e=>s.delete("/properties/".concat(e)),search:e=>r.getAll({...e,page:e.page,limit:e.limit}),getSimilar:(e,t)=>s.get("/properties/".concat(e,"/similar"),{params:{limit:t}})},l={create:e=>s.post("/leads",e),getAll:e=>s.get("/leads",{params:e}),getById:e=>s.get("/leads/".concat(e)),updateStatus:(e,t)=>s.put("/leads/".concat(e,"/status"),{status:t}),delete:e=>s.delete("/leads/".concat(e)),exportCSV:()=>s.get("/leads/export/csv",{responseType:"blob"})},c={getAll:()=>s.get("/wishlist"),add:e=>s.post("/wishlist",{property_id:e}),remove:e=>s.delete("/wishlist/".concat(e))},d={getDashboard:()=>s.get("/admin/dashboard"),getUsers:e=>s.get("/admin/users",{params:e}),updateUserStatus:(e,t)=>s.put("/admin/users/".concat(e,"/status"),{is_active:t}),updateUserRole:(e,t)=>s.put("/admin/users/".concat(e,"/role"),{role:t}),deleteUser:e=>s.delete("/admin/users/".concat(e)),getAnalytics:e=>s.get("/admin/analytics",{params:e}),getSettings:()=>s.get("/admin/settings"),updateSettings:e=>s.put("/admin/settings",e)},u={getPublicSettings:()=>s.get("/admin/settings/public")},p={upload:e=>{let t=new FormData;t.append("file",e);let i=e.type.startsWith("video/");return s.post("/media/upload",t,{headers:{"Content-Type":"multipart/form-data"},timeout:i?6e5:3e4,onUploadProgress:e=>{e.total&&(e.loaded,e.total)}})},uploadMultiple:e=>{let t=new FormData;e.forEach(e=>t.append("files",e));let i=e.some(e=>e.type.startsWith("video/"));return s.post("/media/upload/multiple",t,{headers:{"Content-Type":"multipart/form-data"},timeout:i?6e5:3e4})}},m={search:e=>s.get("/locations",{params:{query:e}})},v={getAll:()=>s.get("/drafts"),create:e=>s.post("/drafts",e),update:(e,t)=>s.put("/drafts/".concat(e),t),delete:e=>s.delete("/drafts/".concat(e))},g={getAll:()=>s.get("/amenities"),create:e=>s.post("/amenities",e),update:(e,t)=>s.put("/amenities/".concat(e),t),delete:e=>s.delete("/amenities/".concat(e))}},1217:function(e,t,i){"use strict";i.d(t,{t:function(){return s}});var a=i(59625),n=i(89134);let s=(0,a.Ue)()((0,n.tJ)(e=>({user:null,token:null,isAuthenticated:!1,setAuth:(t,i)=>{localStorage.setItem("token",i),e({user:t,token:i,isAuthenticated:!0})},clearAuth:()=>{localStorage.removeItem("token"),e({user:null,token:null,isAuthenticated:!1})},updateUser:t=>e(e=>({user:e.user?{...e.user,...t}:null}))}),{name:"auth-storage",partialize:e=>({user:e.user,token:e.token,isAuthenticated:e.isAuthenticated})}))}},function(e){e.O(0,[655,972,230,713,883,971,117,744],function(){return e(e.s=33172)}),_N_E=e.O()}]);