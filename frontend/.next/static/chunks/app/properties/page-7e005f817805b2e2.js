(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[664],{66512:function(e,t,s){Promise.resolve().then(s.bind(s,69958))},43299:function(e,t,s){"use strict";s.d(t,{Z:function(){return i}});let i=(0,s(39763).Z)("Bath",[["path",{d:"M9 6 6.5 3.5a1.5 1.5 0 0 0-1-.5C4.683 3 4 3.683 4 4.5V17a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-5",key:"1r8yf5"}],["line",{x1:"10",x2:"8",y1:"5",y2:"7",key:"h5g8z4"}],["line",{x1:"2",x2:"22",y1:"12",y2:"12",key:"1dnqot"}],["line",{x1:"7",x2:"7",y1:"19",y2:"21",key:"16jp00"}],["line",{x1:"17",x2:"17",y1:"19",y2:"21",key:"1pxrnk"}]])},91128:function(e,t,s){"use strict";s.d(t,{Z:function(){return i}});let i=(0,s(39763).Z)("Bed",[["path",{d:"M2 4v16",key:"vw9hq8"}],["path",{d:"M2 8h18a2 2 0 0 1 2 2v10",key:"1dgv2r"}],["path",{d:"M2 17h20",key:"18nfp3"}],["path",{d:"M6 8v9",key:"1yriud"}]])},88997:function(e,t,s){"use strict";s.d(t,{Z:function(){return i}});let i=(0,s(39763).Z)("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]])},15863:function(e,t,s){"use strict";s.d(t,{Z:function(){return i}});let i=(0,s(39763).Z)("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},83774:function(e,t,s){"use strict";s.d(t,{Z:function(){return i}});let i=(0,s(39763).Z)("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]])},61094:function(e,t,s){"use strict";s.d(t,{Z:function(){return i}});let i=(0,s(39763).Z)("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]])},29374:function(e,t,s){"use strict";s.d(t,{Z:function(){return i}});let i=(0,s(39763).Z)("Video",[["path",{d:"m22 8-6 4 6 4V8Z",key:"50v9me"}],["rect",{width:"14",height:"12",x:"2",y:"6",rx:"2",ry:"2",key:"1rqjg6"}]])},32489:function(e,t,s){"use strict";s.d(t,{Z:function(){return i}});let i=(0,s(39763).Z)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},69958:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return v}});var i=s(57437),a=s(2265),n=s(11713),r=s(71837),l=s(64906),o=s(22542),c=s(99246);function u(){let{filters:e,setFilter:t,clearFilters:s}=(0,o.R)(),[l,u]=(0,a.useState)(e.search||""),d=(0,c.N)(l,500),h=e.category,{data:p}=(0,n.a)({queryKey:["amenities"],queryFn:async()=>(await r.WA.getAll()).data}),m=(null==p?void 0:p.amenities)||[];return(0,a.useEffect)(()=>{d!==e.search&&t("search",d||void 0)},[d,e.search,t]),(0,a.useEffect)(()=>{"Commercial"===h&&(e.bhk&&t("bhk",void 0),e.furnishing&&t("furnishing",void 0))},[h]),(0,i.jsxs)("div",{className:"sticky top-24",children:[(0,i.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,i.jsx)("h2",{className:"text-xl font-display font-bold text-accent-primary",children:"Filters"}),(0,i.jsx)("button",{onClick:s,className:"text-text-secondary hover:text-accent-primary transition-colors text-sm",children:"Clear All"})]}),(0,i.jsxs)("div",{className:"space-y-6",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"block text-sm font-semibold mb-2 text-text-primary",children:"Search"}),(0,i.jsx)("input",{type:"text",value:l,onChange:e=>u(e.target.value),placeholder:"Search properties...",className:"input-elegant w-full"})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"block text-sm font-semibold mb-2 text-text-primary",children:"Category"}),(0,i.jsxs)("select",{value:e.category||"",onChange:e=>t("category","Residential"===e.target.value||"Commercial"===e.target.value?e.target.value:void 0),className:"input-elegant w-full",children:[(0,i.jsx)("option",{value:"",children:"All Categories"}),(0,i.jsx)("option",{value:"Residential",children:"Residential"}),(0,i.jsx)("option",{value:"Commercial",children:"Commercial"})]})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"block text-sm font-semibold mb-2 text-text-primary",children:"Purpose"}),(0,i.jsxs)("select",{value:e.purpose||"",onChange:e=>t("purpose","Buy"===e.target.value||"Rent"===e.target.value||"Lease"===e.target.value?e.target.value:void 0),className:"input-elegant w-full",children:[(0,i.jsx)("option",{value:"",children:"All Purposes"}),(0,i.jsx)("option",{value:"Buy",children:"Buy"}),(0,i.jsx)("option",{value:"Rent",children:"Rent"}),(0,i.jsx)("option",{value:"Lease",children:"Lease"})]})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"block text-sm font-semibold mb-2 text-text-primary",children:"Price Range"}),(0,i.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,i.jsx)("input",{type:"number",placeholder:"Min",value:e.minPrice||"",onChange:e=>t("minPrice",e.target.value?Number(e.target.value):void 0),className:"input-elegant"}),(0,i.jsx)("input",{type:"number",placeholder:"Max",value:e.maxPrice||"",onChange:e=>t("maxPrice",e.target.value?Number(e.target.value):void 0),className:"input-elegant"})]})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"block text-sm font-semibold mb-2 text-text-primary",children:"Area Range (sq.ft)"}),(0,i.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,i.jsx)("input",{type:"number",placeholder:"Min",value:e.minArea||"",onChange:e=>t("minArea",e.target.value?Number(e.target.value):void 0),className:"input-elegant"}),(0,i.jsx)("input",{type:"number",placeholder:"Max",value:e.maxArea||"",onChange:e=>t("maxArea",e.target.value?Number(e.target.value):void 0),className:"input-elegant"})]})]}),"Residential"===h&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"block text-sm font-semibold mb-2 text-text-primary",children:"BHK"}),(0,i.jsxs)("select",{value:e.bhk||"",onChange:e=>t("bhk",e.target.value||void 0),className:"input-elegant w-full",children:[(0,i.jsx)("option",{value:"",children:"All"}),(0,i.jsx)("option",{value:"1 RK",children:"1 RK"}),(0,i.jsx)("option",{value:"1 BHK",children:"1 BHK"}),(0,i.jsx)("option",{value:"2 BHK",children:"2 BHK"}),(0,i.jsx)("option",{value:"3 BHK",children:"3 BHK"}),(0,i.jsx)("option",{value:"4 BHK",children:"4 BHK"}),(0,i.jsx)("option",{value:"5 BHK",children:"5 BHK"}),(0,i.jsx)("option",{value:"6 BHK",children:"6 BHK"}),(0,i.jsx)("option",{value:"7 BHK",children:"7 BHK"}),(0,i.jsx)("option",{value:"8 BHK",children:"8 BHK"}),(0,i.jsx)("option",{value:"9+ BHK",children:"9+ BHK"})]})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"block text-sm font-semibold mb-2 text-text-primary",children:"Furnishing"}),(0,i.jsxs)("select",{value:e.furnishing||"",onChange:e=>t("furnishing","Furnished"===e.target.value||"Semi-Furnished"===e.target.value||"Unfurnished"===e.target.value?e.target.value:void 0),className:"input-elegant w-full",children:[(0,i.jsx)("option",{value:"",children:"All"}),(0,i.jsx)("option",{value:"Furnished",children:"Furnished"}),(0,i.jsx)("option",{value:"Semi-Furnished",children:"Semi-Furnished"}),(0,i.jsx)("option",{value:"Unfurnished",children:"Unfurnished"})]})]})]}),"Commercial"===h&&(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"block text-sm font-semibold mb-2 text-text-primary",children:"Construction Status"}),(0,i.jsxs)("select",{value:e.possessionStatus||"",onChange:e=>t("possessionStatus",e.target.value||void 0),className:"input-elegant w-full",children:[(0,i.jsx)("option",{value:"",children:"All"}),(0,i.jsx)("option",{value:"New Launch",children:"New Launch"}),(0,i.jsx)("option",{value:"Under Construction",children:"Under Construction"}),(0,i.jsx)("option",{value:"Ready to Move",children:"Ready to Move"})]})]})}),(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"block text-sm font-semibold mb-2 text-text-primary",children:"City"}),(0,i.jsx)("input",{type:"text",placeholder:"Enter city",value:e.city||"",onChange:e=>t("city",e.target.value||void 0),className:"input-elegant w-full"})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"block text-sm font-semibold mb-2 text-text-primary",children:"State"}),(0,i.jsx)("input",{type:"text",placeholder:"Enter state",value:e.state||"",onChange:e=>t("state",e.target.value||void 0),className:"input-elegant w-full"})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"block text-sm font-semibold mb-2 text-text-primary",children:"Locality"}),(0,i.jsx)("input",{type:"text",placeholder:"Enter locality",value:e.locality||"",onChange:e=>t("locality",e.target.value||void 0),className:"input-elegant w-full"})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"block text-sm font-semibold mb-2 text-text-primary",children:"Age of Property"}),(0,i.jsxs)("select",{value:e.ageOfProperty||"",onChange:e=>t("ageOfProperty",e.target.value||void 0),className:"input-elegant w-full",children:[(0,i.jsx)("option",{value:"",children:"All"}),(0,i.jsx)("option",{value:"New Construction",children:"New Construction"}),(0,i.jsx)("option",{value:"0-1 years",children:"0-1 years"}),(0,i.jsx)("option",{value:"1-5 years",children:"1-5 years"}),(0,i.jsx)("option",{value:"5-10 years",children:"5-10 years"}),(0,i.jsx)("option",{value:"10+ years",children:"10+ years"})]})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"block text-sm font-semibold mb-2 text-text-primary",children:"Possession Status"}),(0,i.jsxs)("select",{value:e.possessionStatus||"",onChange:e=>t("possessionStatus",e.target.value||void 0),className:"input-elegant w-full",children:[(0,i.jsx)("option",{value:"",children:"All"}),(0,i.jsx)("option",{value:"Ready to Move",children:"Ready to Move"}),(0,i.jsx)("option",{value:"Under Construction",children:"Under Construction"}),(0,i.jsx)("option",{value:"Pre-Launch",children:"Pre-Launch"})]})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"block text-sm font-semibold mb-2 text-text-primary",children:"Facing"}),(0,i.jsxs)("select",{value:e.facing||"",onChange:e=>t("facing",e.target.value||void 0),className:"input-elegant w-full",children:[(0,i.jsx)("option",{value:"",children:"All"}),(0,i.jsx)("option",{value:"North",children:"North"}),(0,i.jsx)("option",{value:"South",children:"South"}),(0,i.jsx)("option",{value:"East",children:"East"}),(0,i.jsx)("option",{value:"West",children:"West"}),(0,i.jsx)("option",{value:"North-East",children:"North-East"}),(0,i.jsx)("option",{value:"North-West",children:"North-West"}),(0,i.jsx)("option",{value:"South-East",children:"South-East"}),(0,i.jsx)("option",{value:"South-West",children:"South-West"})]})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"block text-sm font-semibold mb-2 text-text-primary",children:"Parking"}),(0,i.jsxs)("select",{value:e.parking||"",onChange:e=>t("parking",e.target.value||void 0),className:"input-elegant w-full",children:[(0,i.jsx)("option",{value:"",children:"All"}),(0,i.jsx)("option",{value:"1",children:"1"}),(0,i.jsx)("option",{value:"2",children:"2"}),(0,i.jsx)("option",{value:"3",children:"3"}),(0,i.jsx)("option",{value:"4+",children:"4+"})]})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"block text-sm font-semibold mb-2 text-text-primary",children:"Amenities"}),(0,i.jsx)("div",{className:"space-y-2 max-h-40 overflow-y-auto custom-scrollbar",children:m.length>0?m.map(s=>{var a;return(0,i.jsxs)("label",{className:"flex items-center space-x-2 text-sm",children:[(0,i.jsx)("input",{type:"checkbox",checked:(null===(a=e.amenities)||void 0===a?void 0:a.includes(s.name))||!1,onChange:i=>{let a=e.amenities||[];i.target.checked?t("amenities",[...a,s.name]):t("amenities",a.filter(e=>e!==s.name))},className:"w-4 h-4 text-accent-primary bg-surface border-border rounded focus:ring-2 focus:ring-accent-primary"}),(0,i.jsx)("span",{children:s.name})]},s.id||s.name)}):(0,i.jsx)("p",{className:"text-text-secondary text-sm",children:"No amenities available"})})]}),(0,i.jsx)("div",{children:(0,i.jsxs)("label",{className:"flex items-center space-x-2",children:[(0,i.jsx)("input",{type:"checkbox",checked:e.reraApproved||!1,onChange:e=>t("reraApproved",e.target.checked||void 0),className:"w-4 h-4 text-accent-primary bg-surface border-border rounded focus:ring-2 focus:ring-accent-primary"}),(0,i.jsx)("span",{className:"text-sm",children:"RERA Approved"})]})})]})]})}var d=s(32489);function h(){let{filters:e,removeFilter:t}=(0,o.R)(),s=Object.entries(e).filter(e=>{let[t,s]=e;return void 0!==s&&""!==s&&null!==s});return 0===s.length?null:(0,i.jsx)("div",{className:"flex flex-wrap gap-2 mb-6",children:s.map(e=>{let[s,a]=e,n=a;return Array.isArray(a)&&(n=a.join(", ")),(0,i.jsxs)("div",{className:"flex items-center gap-2 bg-accent-primary/10 border border-accent-primary/30 rounded-full px-4 py-2 text-sm",children:[(0,i.jsxs)("span",{className:"text-accent-primary font-semibold capitalize",children:[s.replace(/([A-Z])/g," $1").trim(),":"]}),(0,i.jsx)("span",{className:"text-text-primary",children:String(n)}),(0,i.jsx)("button",{onClick:()=>t(s),className:"text-text-secondary hover:text-accent-primary transition-colors",children:(0,i.jsx)(d.Z,{size:16})})]},s)})})}let p=(0,s(39763).Z)("ArrowUpDown",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]]);var m=s(15863),x=s(40521);function v(){let{filters:e,setFilter:t}=(0,o.R)(),[s,c]=(0,a.useState)(1),{data:d,isLoading:v,isFetching:y}=(0,n.a)({queryKey:["properties",e,s],queryFn:async()=>(await r.Sf.getAll({...e,page:s,limit:12})).data}),f=(null==d?void 0:d.properties)||[],g=null==d?void 0:d.pagination;return(0,i.jsx)("div",{className:"min-h-screen bg-gradient-to-b from-white to-[#f8f9fb] py-8",children:(0,i.jsxs)("div",{className:"max-w-[1280px] mx-auto px-4 sm:px-6 lg:px-8",children:[(0,i.jsxs)("h1",{className:"text-2xl sm:text-3xl lg:text-4xl font-display font-semibold mb-6 text-[#1E1E1E]",children:[(0,i.jsx)("span",{className:"text-gradient",children:"Browse"})," ",(0,i.jsx)("span",{className:"text-text-primary",children:"Properties"})]}),(0,i.jsxs)("div",{className:"browse-container",children:[(0,i.jsx)("aside",{className:"filters-sidebar",children:(0,i.jsx)(u,{})}),(0,i.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,i.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-6",children:[(0,i.jsxs)("p",{className:"text-sm text-[#5F6B7A]",children:["Showing ",f.length," ",1===f.length?"property":"properties",g&&" of ".concat(g.total)]}),(0,i.jsxs)("div",{className:"flex items-center gap-2",children:[(0,i.jsx)(p,{size:18,className:"text-text-secondary"}),(0,i.jsxs)("select",{value:e.sortBy||"newest",onChange:e=>t("sortBy",e.target.value),className:"input-elegant text-sm min-w-[180px]",children:[(0,i.jsx)("option",{value:"newest",children:"Newest"}),(0,i.jsx)("option",{value:"price_asc",children:"Price: Low → High"}),(0,i.jsx)("option",{value:"price_desc",children:"Price: High → Low"}),(0,i.jsx)("option",{value:"area_desc",children:"Area: Large → Small"})]})]})]}),(0,i.jsx)(h,{}),v||y?(0,i.jsxs)(x.E.div,{initial:{opacity:0},animate:{opacity:1},className:"flex flex-col items-center justify-center py-20",children:[(0,i.jsx)(m.Z,{className:"animate-spin text-accent-primary mb-4",size:40}),(0,i.jsx)("p",{className:"text-text-secondary",children:"Loading properties..."})]}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{className:"property-grid mb-8",children:f.map((e,t)=>(0,i.jsx)(x.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.05*t},children:(0,i.jsx)(l.J,{property:e})},e.id))}),0===f.length&&(0,i.jsx)("div",{className:"text-center py-20",children:(0,i.jsx)("p",{className:"text-text-secondary text-lg",children:"No properties found matching your criteria"})}),g&&g.pages>1&&(0,i.jsxs)("div",{className:"flex justify-center items-center gap-4 mt-8",children:[(0,i.jsx)("button",{onClick:()=>c(e=>Math.max(1,e-1)),disabled:1===s,className:"btn-secondary disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),(0,i.jsxs)("span",{className:"text-text-secondary",children:["Page ",s," of ",g.pages]}),(0,i.jsx)("button",{onClick:()=>c(e=>Math.min(g.pages,e+1)),disabled:s===g.pages,className:"btn-secondary disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})]})]})]})})}},99246:function(e,t,s){"use strict";s.d(t,{N:function(){return a}});var i=s(2265);function a(e,t){let[s,a]=(0,i.useState)(e);return(0,i.useEffect)(()=>{let s=setTimeout(()=>{a(e)},t);return()=>{clearTimeout(s)}},[e,t]),s}},22542:function(e,t,s){"use strict";s.d(t,{R:function(){return n}});var i=s(59625);let a={search:void 0,category:void 0,purpose:void 0,subtype:void 0,minPrice:void 0,maxPrice:void 0,minArea:void 0,maxArea:void 0,bhk:void 0,bathrooms:void 0,furnishing:void 0,availableFor:void 0,availableFrom:void 0,constructionStatus:void 0,possessionStatus:void 0,investmentType:void 0,powerCapacity:void 0,meetingRooms:void 0,pantry:void 0,conferenceRoom:void 0,cabins:void 0,washrooms:void 0,floorPreference:void 0,locatedOn:void 0,officeSpread:void 0,situatedIn:void 0,businessType:void 0,city:void 0,state:void 0,locality:void 0,amenities:void 0,reraApproved:void 0,ageOfProperty:void 0,facing:void 0,parking:void 0,sortBy:"newest"},n=(0,i.Ue)(e=>({filters:{...a},setFilter:(t,s)=>e(e=>({filters:{...e.filters,[t]:void 0===s||""===s?void 0:s}})),removeFilter:t=>e(e=>{let s={...e.filters};return delete s[t],{filters:s}}),clearFilters:()=>e({filters:{...a}}),reset:()=>e({filters:{...a}})}))},2894:function(e,t,s){"use strict";s.d(t,{R:function(){return l},m:function(){return r}});var i=s(18238),a=s(7989),n=s(11255),r=class extends a.F{#e;#t;#s;#i;constructor(e){super(),this.#e=e.client,this.mutationId=e.mutationId,this.#s=e.mutationCache,this.#t=[],this.state=e.state||l(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#t.includes(e)||(this.#t.push(e),this.clearGcTimeout(),this.#s.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#t=this.#t.filter(t=>t!==e),this.scheduleGc(),this.#s.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#t.length||("pending"===this.state.status?this.scheduleGc():this.#s.remove(this))}continue(){return this.#i?.continue()??this.execute(this.state.variables)}async execute(e){let t=()=>{this.#a({type:"continue"})},s={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};this.#i=(0,n.Mz)({fn:()=>this.options.mutationFn?this.options.mutationFn(e,s):Promise.reject(Error("No mutationFn found")),onFail:(e,t)=>{this.#a({type:"failed",failureCount:e,error:t})},onPause:()=>{this.#a({type:"pause"})},onContinue:t,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#s.canRun(this)});let i="pending"===this.state.status,a=!this.#i.canStart();try{if(i)t();else{this.#a({type:"pending",variables:e,isPaused:a}),await this.#s.config.onMutate?.(e,this,s);let t=await this.options.onMutate?.(e,s);t!==this.state.context&&this.#a({type:"pending",context:t,variables:e,isPaused:a})}let n=await this.#i.start();return await this.#s.config.onSuccess?.(n,e,this.state.context,this,s),await this.options.onSuccess?.(n,e,this.state.context,s),await this.#s.config.onSettled?.(n,null,this.state.variables,this.state.context,this,s),await this.options.onSettled?.(n,null,e,this.state.context,s),this.#a({type:"success",data:n}),n}catch(t){try{throw await this.#s.config.onError?.(t,e,this.state.context,this,s),await this.options.onError?.(t,e,this.state.context,s),await this.#s.config.onSettled?.(void 0,t,this.state.variables,this.state.context,this,s),await this.options.onSettled?.(void 0,t,e,this.state.context,s),t}finally{this.#a({type:"error",error:t})}}finally{this.#s.runNext(this)}}#a(e){this.state=(t=>{switch(e.type){case"failed":return{...t,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...t,isPaused:!0};case"continue":return{...t,isPaused:!1};case"pending":return{...t,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...t,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...t,data:void 0,error:e.error,failureCount:t.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}})(this.state),i.Vr.batch(()=>{this.#t.forEach(t=>{t.onMutationUpdate(e)}),this.#s.notify({mutation:this,type:"updated",action:e})})}};function l(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}},21770:function(e,t,s){"use strict";s.d(t,{D:function(){return u}});var i=s(2265),a=s(2894),n=s(18238),r=s(24112),l=s(45345),o=class extends r.l{#e;#n=void 0;#r;#l;constructor(e,t){super(),this.#e=e,this.setOptions(t),this.bindMethods(),this.#o()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){let t=this.options;this.options=this.#e.defaultMutationOptions(e),(0,l.VS)(this.options,t)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#r,observer:this}),t?.mutationKey&&this.options.mutationKey&&(0,l.Ym)(t.mutationKey)!==(0,l.Ym)(this.options.mutationKey)?this.reset():this.#r?.state.status==="pending"&&this.#r.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#r?.removeObserver(this)}onMutationUpdate(e){this.#o(),this.#c(e)}getCurrentResult(){return this.#n}reset(){this.#r?.removeObserver(this),this.#r=void 0,this.#o(),this.#c()}mutate(e,t){return this.#l=t,this.#r?.removeObserver(this),this.#r=this.#e.getMutationCache().build(this.#e,this.options),this.#r.addObserver(this),this.#r.execute(e)}#o(){let e=this.#r?.state??(0,a.R)();this.#n={...e,isPending:"pending"===e.status,isSuccess:"success"===e.status,isError:"error"===e.status,isIdle:"idle"===e.status,mutate:this.mutate,reset:this.reset}}#c(e){n.Vr.batch(()=>{if(this.#l&&this.hasListeners()){let t=this.#n.variables,s=this.#n.context,i={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};e?.type==="success"?(this.#l.onSuccess?.(e.data,t,s,i),this.#l.onSettled?.(e.data,null,t,s,i)):e?.type==="error"&&(this.#l.onError?.(e.error,t,s,i),this.#l.onSettled?.(void 0,e.error,t,s,i))}this.listeners.forEach(e=>{e(this.#n)})})}},c=s(29827);function u(e,t){let s=(0,c.NL)(t),[a]=i.useState(()=>new o(s,e));i.useEffect(()=>{a.setOptions(e)},[a,e]);let r=i.useSyncExternalStore(i.useCallback(e=>a.subscribe(n.Vr.batchCalls(e)),[a]),()=>a.getCurrentResult(),()=>a.getCurrentResult()),u=i.useCallback((e,t)=>{a.mutate(e,t).catch(l.ZT)},[a]);if(r.error&&(0,l.L3)(a.options.throwOnError,[r.error]))throw r.error;return{...r,mutate:u,mutateAsync:r.mutate}}}},function(e){e.O(0,[655,972,230,713,883,64,726,906,971,117,744],function(){return e(e.s=66512)}),_N_E=e.O()}]);