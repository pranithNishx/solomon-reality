(()=>{var e={};e.id=674,e.ids=[674],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},27790:e=>{"use strict";e.exports=require("assert")},84770:e=>{"use strict";e.exports=require("crypto")},17702:e=>{"use strict";e.exports=require("events")},92048:e=>{"use strict";e.exports=require("fs")},32615:e=>{"use strict";e.exports=require("http")},32694:e=>{"use strict";e.exports=require("http2")},35240:e=>{"use strict";e.exports=require("https")},19801:e=>{"use strict";e.exports=require("os")},55315:e=>{"use strict";e.exports=require("path")},76162:e=>{"use strict";e.exports=require("stream")},74175:e=>{"use strict";e.exports=require("tty")},17360:e=>{"use strict";e.exports=require("url")},21764:e=>{"use strict";e.exports=require("util")},71568:e=>{"use strict";e.exports=require("zlib")},10680:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>n.a,__next_app__:()=>p,originalPathname:()=>u,pages:()=>d,routeModule:()=>h,tree:()=>c}),s(57459),s(9457),s(25780),s(7629),s(12523);var r=s(23191),i=s(88716),a=s(37922),n=s.n(a),o=s(95231),l={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);s.d(t,l);let c=["",{children:["admin",{children:["users",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,57459)),"C:\\Users\\nishu\\OneDrive\\Desktop\\solomon-reality\\frontend\\src\\app\\admin\\users\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,9457)),"C:\\Users\\nishu\\OneDrive\\Desktop\\solomon-reality\\frontend\\src\\app\\admin\\layout.tsx"]}]},{layout:[()=>Promise.resolve().then(s.bind(s,25780)),"C:\\Users\\nishu\\OneDrive\\Desktop\\solomon-reality\\frontend\\src\\app\\layout.tsx"],error:[()=>Promise.resolve().then(s.bind(s,7629)),"C:\\Users\\nishu\\OneDrive\\Desktop\\solomon-reality\\frontend\\src\\app\\error.tsx"],"not-found":[()=>Promise.resolve().then(s.bind(s,12523)),"C:\\Users\\nishu\\OneDrive\\Desktop\\solomon-reality\\frontend\\src\\app\\not-found.tsx"]}],d=["C:\\Users\\nishu\\OneDrive\\Desktop\\solomon-reality\\frontend\\src\\app\\admin\\users\\page.tsx"],u="/admin/users/page",p={require:s,loadChunk:()=>Promise.resolve()},h=new r.AppPageRouteModule({definition:{kind:i.x.APP_PAGE,page:"/admin/users/page",pathname:"/admin/users",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},73658:(e,t,s)=>{Promise.resolve().then(s.bind(s,6674))},32160:(e,t,s)=>{Promise.resolve().then(s.bind(s,19505))},59734:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r=(0,s(76557).Z)("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]])},31540:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r=(0,s(76557).Z)("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]])},75290:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r=(0,s(76557).Z)("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},98091:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r=(0,s(76557).Z)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},17069:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r=(0,s(76557).Z)("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]])},24061:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r=(0,s(76557).Z)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]])},6674:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>v});var r=s(10326);s(17577);var i=s(35047),a=s(58029),n=s(75290),o=s(30058),l=s(90434),c=s(95920),d=s(59734),u=s(5932),p=s(17069),h=s(24061),m=s(88378);function x(){let e=(0,i.usePathname)(),{user:t}=(0,a.t)(),s=[{title:"Dashboard",href:"/admin",icon:c.Z},{title:"Properties",href:"/admin/properties",icon:d.Z},{title:"Leads",href:"/admin/leads",icon:u.Z},{title:"Analytics",href:"/admin/analytics",icon:p.Z},{title:"Users",href:"/admin/users",icon:h.Z},{title:"Settings",href:"/admin/settings",icon:m.Z}];return(0,r.jsxs)("aside",{className:"w-64 bg-surface border-r border-border min-h-screen sticky top-0",children:[(0,r.jsxs)("div",{className:"p-6 border-b border-border",children:[r.jsx("h2",{className:"text-xl font-display font-bold text-accent-primary",children:"Admin Panel"}),r.jsx("p",{className:"text-text-secondary text-sm mt-1",children:t?.name||"Admin"})]}),r.jsx("nav",{className:"p-4 space-y-2",children:s.map(t=>{let s=t.icon,i=e===t.href||e?.startsWith(t.href+"/");return r.jsx(l.default,{href:t.href,children:(0,r.jsxs)(o.E.div,{whileHover:{x:4},whileTap:{scale:.98},className:`flex items-center gap-3 px-4 py-3 rounded-lg transition-all ${i?"bg-accent-primary/10 text-accent-primary border-l-4 border-accent-primary":"text-text-secondary hover:bg-surface-muted hover:text-text-primary"}`,children:[r.jsx(s,{size:20}),r.jsx("span",{className:"font-medium",children:t.title})]})},t.href)})})]})}var y=s(16681);function v({children:e}){(0,i.useRouter)();let{isAuthenticated:t,user:s}=(0,a.t)();return t&&s?.role==="admin"?(0,r.jsxs)("div",{className:"min-h-screen bg-gradient-soft flex",children:[r.jsx(x,{}),(0,r.jsxs)("div",{className:"flex-1 flex flex-col",children:[r.jsx(y.w,{}),r.jsx(o.E.main,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},className:"flex-1 p-6",children:e})]})]}):r.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-soft",children:(0,r.jsxs)("div",{className:"text-center",children:[r.jsx(n.Z,{className:"animate-spin text-accent-primary mx-auto mb-4",size:32}),r.jsx("p",{className:"text-text-secondary",children:"Redirecting to login..."})]})})}},19505:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>v});var r=s(10326),i=s(17577),a=s(35047),n=s(44976),o=s(20108),l=s(10119),c=s(18069),d=s(58029),u=s(75290),p=s(31540),h=s(88307),m=s(98091),x=s(30058),y=s(40381);function v(){(0,a.useRouter)();let{isAuthenticated:e,user:t}=(0,d.t)(),s=(0,n.NL)(),[v,f]=(0,i.useState)(1),[b,g]=(0,i.useState)(""),[j,N]=(0,i.useState)(""),{data:k,isLoading:M}=(0,o.a)({queryKey:["admin-users",v,b,j],queryFn:async()=>(await c.Nq.getUsers({page:v,limit:20,search:b||void 0,role:j||void 0})).data,enabled:e&&t?.role==="admin"}),P=(0,l.D)({mutationFn:({id:e,is_active:t})=>c.Nq.updateUserStatus(e,t),onSuccess:()=>{s.invalidateQueries({queryKey:["admin-users"]}),y.ZP.success("User status updated successfully")},onError:e=>{y.ZP.error(e.response?.data?.error||"Failed to update user status")}}),q=(0,l.D)({mutationFn:({id:e,role:t})=>c.Nq.updateUserRole(e,t),onSuccess:()=>{s.invalidateQueries({queryKey:["admin-users"]}),y.ZP.success("User role updated successfully")},onError:e=>{y.ZP.error(e.response?.data?.error||"Failed to update user role")}}),Z=(0,l.D)({mutationFn:e=>c.Nq.deleteUser(e),onSuccess:()=>{s.invalidateQueries({queryKey:["admin-users"]}),y.ZP.success("User deleted successfully")},onError:e=>{y.ZP.error(e.response?.data?.error||"Failed to delete user")}});if(M)return r.jsx("div",{className:"min-h-screen flex items-center justify-center",children:r.jsx(u.Z,{className:"animate-spin text-accent-primary",size:32})});let C=k?.users||[],w=k?.pagination||{page:1,limit:20,total:0,pages:1};return r.jsx("div",{className:"min-h-screen bg-gradient-soft p-6",children:(0,r.jsxs)("div",{className:"max-w-[1280px] mx-auto px-4 sm:px-6 lg:px-8",children:[(0,r.jsxs)(x.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mb-8 flex justify-between items-center",children:[(0,r.jsxs)("div",{children:[r.jsx("h1",{className:"text-4xl font-display font-bold text-text-primary mb-2",children:"User Management"}),r.jsx("p",{className:"text-text-secondary",children:"Manage users and their permissions"})]}),(0,r.jsxs)("button",{onClick:()=>{let e=new Blob([["Name,Email,Phone,Role,Status,Created At",...C.map(e=>[e.name||"",e.email||"",e.phone||"N/A",e.role||"user",e.is_active?"Active":"Inactive",new Date(e.created_at||Date.now()).toLocaleDateString()]).map(e=>e.map(e=>`"${e}"`).join(","))].join("\n")],{type:"text/csv;charset=utf-8;"}),t=URL.createObjectURL(e),s=document.createElement("a");s.href=t,s.download=`solomon-users-${new Date().toISOString().split("T")[0]}.csv`,document.body.appendChild(s),s.click(),document.body.removeChild(s),URL.revokeObjectURL(t),y.ZP.success("Users exported to CSV successfully")},className:"bg-[#5B5F97] text-white rounded-md px-3 py-2 text-sm font-semibold hover:bg-[#7A80B8] transition-colors flex items-center gap-2",children:[r.jsx(p.Z,{size:16}),"Export CSV"]})]}),r.jsx(x.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"card-luxury p-6 mb-6",children:(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,r.jsxs)("div",{className:"relative",children:[r.jsx(h.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-text-secondary",size:18}),r.jsx("input",{type:"text",placeholder:"Search users...",value:b,onChange:e=>g(e.target.value),className:"input-elegant w-full pl-10"})]}),(0,r.jsxs)("select",{value:j,onChange:e=>N(e.target.value),className:"input-elegant",children:[r.jsx("option",{value:"",children:"All Roles"}),r.jsx("option",{value:"user",children:"User"}),r.jsx("option",{value:"admin",children:"Admin"})]})]})}),(0,r.jsxs)(x.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"card-luxury p-6",children:[r.jsx("div",{className:"overflow-x-auto",children:(0,r.jsxs)("table",{className:"w-full",children:[r.jsx("thead",{children:(0,r.jsxs)("tr",{className:"border-b border-border",children:[r.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-text-primary",children:"Name"}),r.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-text-primary",children:"Email"}),r.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-text-primary",children:"Phone"}),r.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-text-primary",children:"Role"}),r.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-text-primary",children:"Status"}),r.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-text-primary",children:"Actions"})]})}),r.jsx("tbody",{children:C.length>0?C.map(e=>(0,r.jsxs)("tr",{className:"border-b border-border hover:bg-surface-muted",children:[r.jsx("td",{className:"py-3 px-4 text-sm text-text-secondary",children:e.name}),r.jsx("td",{className:"py-3 px-4 text-sm text-text-secondary",children:e.email}),r.jsx("td",{className:"py-3 px-4 text-sm text-text-secondary",children:e.phone||"N/A"}),r.jsx("td",{className:"py-3 px-4",children:(0,r.jsxs)("select",{value:e.role,onChange:t=>{q.mutate({id:e.id,role:t.target.value})},className:"input-elegant text-sm",disabled:q.isPending,children:[r.jsx("option",{value:"user",children:"User"}),r.jsx("option",{value:"admin",children:"Admin"})]})}),r.jsx("td",{className:"py-3 px-4",children:r.jsx("button",{onClick:()=>{P.mutate({id:e.id,is_active:!e.is_active})},className:`px-3 py-1 rounded-full text-xs font-semibold ${e.is_active?"bg-success/20 text-success":"bg-error/20 text-error"}`,disabled:P.isPending,children:e.is_active?"Active":"Inactive"})}),r.jsx("td",{className:"py-3 px-4",children:r.jsx("button",{onClick:()=>{confirm("Are you sure you want to delete this user?")&&Z.mutate(e.id)},className:"text-error hover:text-error/80 transition-colors",disabled:Z.isPending,children:r.jsx(m.Z,{size:18})})})]},e.id)):r.jsx("tr",{children:r.jsx("td",{colSpan:6,className:"py-8 text-center text-text-secondary",children:"No users found"})})})]})}),w.pages>1&&(0,r.jsxs)("div",{className:"flex items-center justify-between mt-6",children:[(0,r.jsxs)("p",{className:"text-text-secondary text-sm",children:["Showing ",(w.page-1)*w.limit+1," to ",Math.min(w.page*w.limit,w.total)," of ",w.total," users"]}),(0,r.jsxs)("div",{className:"flex gap-2",children:[r.jsx("button",{onClick:()=>f(e=>Math.max(1,e-1)),disabled:1===v,className:"btn-secondary",children:"Previous"}),r.jsx("button",{onClick:()=>f(e=>Math.min(w.pages,e+1)),disabled:v===w.pages,className:"btn-secondary",children:"Next"})]})]})]})]})})}},9457:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r});let r=(0,s(68570).createProxy)(String.raw`C:\Users\nishu\OneDrive\Desktop\solomon-reality\frontend\src\app\admin\layout.tsx#default`)},57459:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r});let r=(0,s(68570).createProxy)(String.raw`C:\Users\nishu\OneDrive\Desktop\solomon-reality\frontend\src\app\admin\users\page.tsx#default`)},10119:(e,t,s)=>{"use strict";s.d(t,{D:()=>d});var r=s(17577),i=s(71180),a=s(12113),n=s(64351),o=s(3341),l=class extends n.l{#e;#t=void 0;#s;#r;constructor(e,t){super(),this.#e=e,this.setOptions(t),this.bindMethods(),this.#i()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){let t=this.options;this.options=this.#e.defaultMutationOptions(e),(0,o.VS)(this.options,t)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#s,observer:this}),t?.mutationKey&&this.options.mutationKey&&(0,o.Ym)(t.mutationKey)!==(0,o.Ym)(this.options.mutationKey)?this.reset():this.#s?.state.status==="pending"&&this.#s.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#s?.removeObserver(this)}onMutationUpdate(e){this.#i(),this.#a(e)}getCurrentResult(){return this.#t}reset(){this.#s?.removeObserver(this),this.#s=void 0,this.#i(),this.#a()}mutate(e,t){return this.#r=t,this.#s?.removeObserver(this),this.#s=this.#e.getMutationCache().build(this.#e,this.options),this.#s.addObserver(this),this.#s.execute(e)}#i(){let e=this.#s?.state??(0,i.R)();this.#t={...e,isPending:"pending"===e.status,isSuccess:"success"===e.status,isError:"error"===e.status,isIdle:"idle"===e.status,mutate:this.mutate,reset:this.reset}}#a(e){a.Vr.batch(()=>{if(this.#r&&this.hasListeners()){let t=this.#t.variables,s=this.#t.context,r={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};e?.type==="success"?(this.#r.onSuccess?.(e.data,t,s,r),this.#r.onSettled?.(e.data,null,t,s,r)):e?.type==="error"&&(this.#r.onError?.(e.error,t,s,r),this.#r.onSettled?.(void 0,e.error,t,s,r))}this.listeners.forEach(e=>{e(this.#t)})})}},c=s(44976);function d(e,t){let s=(0,c.NL)(t),[i]=r.useState(()=>new l(s,e));r.useEffect(()=>{i.setOptions(e)},[i,e]);let n=r.useSyncExternalStore(r.useCallback(e=>i.subscribe(a.Vr.batchCalls(e)),[i]),()=>i.getCurrentResult(),()=>i.getCurrentResult()),d=r.useCallback((e,t)=>{i.mutate(e,t).catch(o.ZT)},[i]);if(n.error&&(0,o.L3)(i.options.throwOnError,[n.error]))throw n.error;return{...n,mutate:d,mutateAsync:n.mutate}}}};var t=require("../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[378,285],()=>s(10680));module.exports=r})();